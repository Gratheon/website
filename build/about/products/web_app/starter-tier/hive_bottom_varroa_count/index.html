<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-api docs-version-current docs-doc-page docs-doc-id-products/web_app/starter-tier/hive_bottom_varroa_count" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>ğŸ¦€ Hive bottom board varroa counting | Gratheon</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:image content=https://gratheon.com/img/gratheon-web-app.webp /><meta data-rh=true name=twitter:image content=https://gratheon.com/img/gratheon-web-app.webp /><meta data-rh=true property=og:url content=https://gratheon.com/about/products/web_app/starter-tier/hive_bottom_varroa_count /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-api-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-api-current /><meta data-rh=true property=og:title content="ğŸ¦€ Hive bottom board varroa counting | Gratheon"/><meta data-rh=true name=description content="ğŸ¯ Purpose"/><meta data-rh=true property=og:description content="ğŸ¯ Purpose"/><link data-rh=true rel=icon href=/favicons/favicon.ico /><link data-rh=true rel=canonical href=https://gratheon.com/about/products/web_app/starter-tier/hive_bottom_varroa_count /><link data-rh=true rel=alternate href=https://gratheon.com/about/products/web_app/starter-tier/hive_bottom_varroa_count hreflang=en /><link data-rh=true rel=alternate href=https://gratheon.com/about/products/web_app/starter-tier/hive_bottom_varroa_count hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://gratheon.com/about/products/","name":"ğŸ¯ Products","position":1},{"@type":"ListItem","item":"https://gratheon.com/about/products/web_app/","name":"ğŸ“±Web-app","position":2},{"@type":"ListItem","item":"https://gratheon.com/about/products/web_app/starter-tier/hive_bottom_varroa_count","name":"ğŸ¦€ Hive bottom board varroa counting","position":3}]}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Gratheon RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Gratheon Atom Feed"><link rel=preconnect href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var d=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src="https://www.googletagmanager.com/gtm.js?id="+r+("dataLayer"!=n?"&l="+n:""),d.parentNode.insertBefore(g,d)}(window,document,"script","dataLayer","GTM-KH4KC9")</script><link rel=stylesheet href=/assets/css/styles.a3f73431.css /><script src=/assets/js/runtime~main.ea9a3a8d.js defer></script><script src=/assets/js/main.c7f83deb.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t;document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KH4KC9" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_poJ9 href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo_v7w.svg alt=Gratheon class="themedComponent_rn3I themedComponent--light_bBhh"/><img src=/img/logo_v7w.svg alt=Gratheon class="themedComponent_rn3I themedComponent--dark_zi9f"/></div><b class="navbar__title text--truncate"></b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/about>About</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/about/products>Products</a><a class="navbar__item navbar__link" href=/docs/API/>Docs</a><a class="navbar__item navbar__link" sidebarid=researchSidebar href=/research>Research</a><a class="navbar__item navbar__link" href=/blog>Blog</a><a class="navbar__item navbar__link" href=/pricing>Pricing</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class=navbarSearchContainer_rLJk><input type=text placeholder=Search style="padding:7px 15px;border:2px solid #CCC;border-radius:5px"/></div><a href=https://discord.gg/PcbP4uedWj target=_blank rel="noopener noreferrer" class="navbar__item navbar__link navbar--discord-link" aria-label="Discord Invite"></a><a href=https://github.com/gratheon/web-app target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header--github-link" aria-label="GitHub repository"></a><a href=https://app.gratheon.com/account/authenticate/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Log in<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_c9sx><use href=#theme-svg-external-link /></svg></a></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_TcZ4"><div class=docsWrapper_a5BB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_jePA" type=button></button><div class=docRoot_YOz7><aside class="theme-doc-sidebar-container docSidebarContainer_PCNi"><div class=sidebarViewport_svvY><div class=sidebar_yZ0v><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_ib_h"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/about/><span title=Overview class=linkLabel_I9IG>Overview</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist" href=/about/mission/><span title="ğŸŒ» Mission" class=categoryLinkLabel_dnDz>ğŸŒ» Mission</span></a><button aria-label="Expand sidebar category 'ğŸŒ» Mission'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist" href=/about/problems/><span title="ğŸŒ¨ï¸ Problems" class=categoryLinkLabel_dnDz>ğŸŒ¨ï¸ Problems</span></a><button aria-label="Expand sidebar category 'ğŸŒ¨ï¸ Problems'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist menu__link--active" href=/about/products/><span title="ğŸ¯ Products" class=categoryLinkLabel_dnDz>ğŸ¯ Products</span></a><button aria-label="Collapse sidebar category 'ğŸ¯ Products'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href="/about/products/ğŸ§‘â€ğŸš€ Actions beekeepers make"><span title="ğŸ§‘â€ğŸš€ Actions beekeepers make" class=linkLabel_I9IG>ğŸ§‘â€ğŸš€ Actions beekeepers make</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist menu__link--active" tabindex=0 href=/about/products/web_app/><span title=ğŸ“±Web-app class=categoryLinkLabel_dnDz>ğŸ“±Web-app</span></a><button aria-label="Collapse sidebar category 'ğŸ“±Web-app'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href="/about/products/web_app/basic-functionality/ğŸŒ Localization"><span title=basic-functionality class=categoryLinkLabel_dnDz>basic-functionality</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/about/products/web_app/flexible-tier/alerts><span title=flexible-tier class=categoryLinkLabel_dnDz>flexible-tier</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/about/products/web_app/hobbyist-tier/apiary-management><span title=hobbyist-tier class=categoryLinkLabel_dnDz>hobbyist-tier</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/about/products/web_app/pro-tier/alerts><span title=pro-tier class=categoryLinkLabel_dnDz>pro-tier</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/about/products/web_app/starter-tier/hive_bottom_varroa_count><span title=starter-tier class=categoryLinkLabel_dnDz>starter-tier</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/about/products/web_app/starter-tier/hive_bottom_varroa_count><span title="ğŸ¦€ Hive bottom board varroa counting" class=linkLabel_I9IG>ğŸ¦€ Hive bottom board varroa counting</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href="/about/products/web_app/starter-tier/ideas ğŸ’¡/â˜€ï¸ Solar radiance as weather datasource"><span title="ideas ğŸ’¡" class=categoryLinkLabel_dnDz>ideas ğŸ’¡</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/about/products/web_app/starter-tier/join_bee_colonies><span title="ğŸ«¶ğŸ» Join colonies" class=linkLabel_I9IG>ğŸ«¶ğŸ» Join colonies</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/about/products/web_app/starter-tier/split_bee_colony><span title="ğŸ Split a bee colony" class=linkLabel_I9IG>ğŸ Split a bee colony</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href="/about/products/web_app/starter-tier/âœï¸ Drawing on canvas"><span title="âœï¸ Drawing on canvas" class=linkLabel_I9IG>âœï¸ Drawing on canvas</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href="/about/products/web_app/starter-tier/ğŸ­ Feeding history"><span title="ğŸ­ Feeding history" class=linkLabel_I9IG>ğŸ­ Feeding history</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href="/about/products/web_app/starter-tier/ğŸ” Inspection management"><span title="ğŸ” Inspection management" class=linkLabel_I9IG>ğŸ” Inspection management</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href="/about/products/web_app/starter-tier/ğŸ—ºï¸ Hive placement planner"><span title="ğŸ—ºï¸ Hive Placement Planner" class=linkLabel_I9IG>ğŸ—ºï¸ Hive Placement Planner</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href="/about/products/web_app/starter-tier/ğŸ¤– Beekeeping advice with LLM"><span title="ğŸ¤– Beekeeping advice with LLM" class=linkLabel_I9IG>ğŸ¤– Beekeeping advice with LLM</span></a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist" tabindex=0 href=/about/products/scales/><span title="ğŸŒ¡ï¸ Beehive scales" class=categoryLinkLabel_dnDz>ğŸŒ¡ï¸ Beehive scales</span></a><button aria-label="Expand sidebar category 'ğŸŒ¡ï¸ Beehive scales'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist" tabindex=0 href=/about/products/entrance_observer/><span title="ğŸ‘ï¸â€ğŸ—¨ï¸ Entrance Observer" class=categoryLinkLabel_dnDz>ğŸ‘ï¸â€ğŸ—¨ï¸ Entrance Observer</span></a><button aria-label="Expand sidebar category 'ğŸ‘ï¸â€ğŸ—¨ï¸ Entrance Observer'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist" tabindex=0 href=/about/products/robotic_beehive/><span title="ğŸ§¿ Robotic Beehive" class=categoryLinkLabel_dnDz>ğŸ§¿ Robotic Beehive</span></a><button aria-label="Expand sidebar category 'ğŸ§¿ Robotic Beehive'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist" tabindex=0 href=/about/products/robotic_apiary/><span title="ğŸª¬ Robotic Apiary" class=categoryLinkLabel_dnDz>ğŸª¬ Robotic Apiary</span></a><button aria-label="Expand sidebar category 'ğŸª¬ Robotic Apiary'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/about/products/entrance_counter_circular/><span title="Circular entrance counter" class=linkLabel_I9IG>Circular entrance counter</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_rikP menu__link menu__link--sublist" href=/about/company/><span title="ğŸ‘” Company" class=categoryLinkLabel_dnDz>ğŸ‘” Company</span></a><button aria-label="Expand sidebar category 'ğŸ‘” Company'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/about/volunteer><span title="â¤ï¸â€ğŸ”¥ Volunteering" class=linkLabel_I9IG>â¤ï¸â€ğŸ”¥ Volunteering</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/about/credits><span title="ğŸ™ Credits" class=linkLabel_I9IG>ğŸ™ Credits</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href="/about/ğŸ“¢ Press kit"><span title="ğŸ“¢ Press kit" class=linkLabel_I9IG>ğŸ“¢ Press kit</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href=https://github.com/orgs/Gratheon/projects/5 target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_FdF6"><span title="â˜‘ï¸ Tasks" class=linkLabel_I9IG>â˜‘ï¸ Tasks</span><svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_c9sx><use href=#theme-svg-external-link /></svg></a></ul></nav></div></div></aside><main class=docMainContainer_aHOd><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_BJgu"><div class=docItemContainer_PUtD><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_dpnR" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon__OJg><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/about/products/><span>ğŸ¯ Products</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/about/products/web_app/><span>ğŸ“±Web-app</span></a><li class=breadcrumbs__item><span class=breadcrumbs__link>starter-tier</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>ğŸ¦€ Hive bottom board varroa counting</span></ul></nav><div class="tocCollapsible_RHmT theme-doc-toc-mobile tocMobile_VHIv"><button type=button class="clean-btn tocCollapsibleButton_POOD">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ğŸ¦€ Hive bottom board varroa counting</h1></header><h3 class="anchor anchorTargetStickyNavbar_rb2N" id=-purpose>ğŸ¯ Purpose<a href=#-purpose class=hash-link aria-label="Direct link to ğŸ¯ Purpose" title="Direct link to ğŸ¯ Purpose" translate=no>â€‹</a></h3>
<p>Track varroa mite infestation levels by uploading and analyzing images of the hive bottom board (the white slideable panel used for varroa mite counting).</p>
<h3 class="anchor anchorTargetStickyNavbar_rb2N" id=-user-story>ğŸ­ User Story<a href=#-user-story class=hash-link aria-label="Direct link to ğŸ­ User Story" title="Direct link to ğŸ­ User Story" translate=no>â€‹</a></h3>
<ul>
<li class="">As a beekeeper</li>
<li class="">I want to upload photos of my hive bottom board</li>
<li class="">So that I can monitor varroa mite levels over time and take action when necessary</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_rb2N" id=-key-benefits>ğŸš€ Key Benefits<a href=#-key-benefits class=hash-link aria-label="Direct link to ğŸš€ Key Benefits" title="Direct link to ğŸš€ Key Benefits" translate=no>â€‹</a></h3>
<ul>
<li class=""><strong>Easy Monitoring</strong>: Simple image upload process for varroa tracking</li>
<li class=""><strong>Historical Tracking</strong>: Images versioned with inspections for trend analysis</li>
<li class=""><strong>Automated Detection</strong>: Images automatically queued for AI-powered varroa mite counting (coming soon)</li>
<li class=""><strong>Treatment Planning</strong>: Visual evidence helps decide when treatment is needed</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_rb2N" id=-technical-overview>ğŸ”§ Technical Overview<a href=#-technical-overview class=hash-link aria-label="Direct link to ğŸ”§ Technical Overview" title="Direct link to ğŸ”§ Technical Overview" translate=no>â€‹</a></h3>
<p>The bottom board is implemented as a new box type (<code>BOTTOM</code>) in the hive structure, similar to other box types like deep boxes, supers, and entrance gates.</p>
<p><strong>Architecture:</strong></p>
<!-- -->
<p><strong>Components:</strong></p>
<ul>
<li class=""><strong>swarm-api</strong>: Manages the BOTTOM box type in the database<!-- -->
<ul>
<li class="">GraphQL schema with BOTTOM enum value</li>
<li class="">Database migration for boxes table</li>
<li class="">Box creation and management API</li>
</ul>
</li>
<li class=""><strong>web-app</strong>: Provides UI for adding bottom boxes and uploading images<!-- -->
<ul>
<li class="">BottomBox component for image upload</li>
<li class="">Two-step upload process (upload â†’ link)</li>
<li class="">Integration with hive structure view</li>
</ul>
</li>
<li class=""><strong>image-splitter</strong>: Handles image uploads, storage, and processing<!-- -->
<ul>
<li class="">File upload to S3</li>
<li class="">Database linking (<code>files_box_rel</code> table)</li>
<li class="">Varroa detection job queueing</li>
<li class="">Thumbnail generation</li>
</ul>
</li>
</ul>
<p><strong>Database Schema:</strong></p>
<div class="language-sql codeBlockContainer_InFo theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_zYTH><pre tabindex=0 class="prism-code language-sql codeBlock_Qx6K thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_VjvH><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>-- swarm-api: boxes table</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>-- Box type enum includes BOTTOM</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>ALTER</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>TABLE</span><span class="token plain"> boxes CHANGE </span><span class="token keyword" style=color:#00009f>type</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>type</span><span class="token plain"> </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>ENUM</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>'DEEP'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>'SUPER'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>'GATE'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>'VENTILATION'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>'QUEEN_EXCLUDER'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>'HORIZONTAL_FEEDER'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>'BOTTOM'</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>CHARACTER</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>SET</span><span class="token plain"> utf8mb4 </span><span class="token keyword" style=color:#00009f>COLLATE</span><span class="token plain"> utf8mb4_0900_ai_ci </span><span class="token operator" style=color:#393A34>NOT</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>NULL</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>DEFAULT</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'DEEP'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>-- image-splitter: files_box_rel table</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>-- Links uploaded images to specific boxes</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>CREATE</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>TABLE</span><span class="token plain"> files_box_rel </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  box_id </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>unsigned</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>NOT</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  file_id </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>unsigned</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>NOT</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  user_id </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>unsigned</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>NOT</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  inspection_id </span><span class="token keyword" style=color:#00009f>INT</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>NULL</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>DEFAULT</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  added_time </span><span class="token keyword" style=color:#00009f>datetime</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>DEFAULT</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>CURRENT_TIMESTAMP</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>INDEX</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">user_id</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> box_id</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> inspection_id</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>ENGINE</span><span class="token operator" style=color:#393A34>=</span><span class="token keyword" style=color:#00009f>InnoDB</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>DEFAULT</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>CHARSET</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">utf8mb4 </span><span class="token keyword" style=color:#00009f>COLLATE</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">utf8mb4_bin</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p><strong>Image Upload Flow:</strong></p>
<ol>
<li class=""><strong>User selects image</strong> in BottomBox component</li>
<li class=""><strong>Step 1</strong>: <code>uploadFrameSide</code> mutation uploads file to S3<!-- -->
<ul>
<li class="">Returns <code>fileId</code> and image URLs</li>
<li class="">Queues varroa detection job</li>
</ul>
</li>
<li class=""><strong>Step 2</strong>: <code>addFileToBox</code> mutation links file to box<!-- -->
<ul>
<li class="">Creates record in <code>files_box_rel</code> table</li>
<li class="">Links: <code>box_id â†” file_id â†” user_id â†” inspection_id</code></li>
</ul>
</li>
<li class=""><strong>Storage</strong>: Image stored in S3, metadata in MySQL</li>
</ol>
<p>Images are stored separately from frame sides but use the same S3 infrastructure. Inspection versioning is supported through the <code>inspection_id</code> field.</p>
<h3 class="anchor anchorTargetStickyNavbar_rb2N" id=-how-to-use>ğŸ“‹ How to Use<a href=#-how-to-use class=hash-link aria-label="Direct link to ğŸ“‹ How to Use" title="Direct link to ğŸ“‹ How to Use" translate=no>â€‹</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_rb2N" id=1-adding-a-bottom-board-to-your-hive>1. Adding a Bottom Board to Your Hive<a href=#1-adding-a-bottom-board-to-your-hive class=hash-link aria-label="Direct link to 1. Adding a Bottom Board to Your Hive" title="Direct link to 1. Adding a Bottom Board to Your Hive" translate=no>â€‹</a></h4>
<ol>
<li class="">Navigate to your hive structure view</li>
<li class="">Click the dropdown menu with additional box options</li>
<li class="">Select <strong>"Add bottom"</strong> button</li>
<li class="">The bottom board section will be added to your hive structure</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_rb2N" id=2-uploading-bottom-board-images>2. Uploading Bottom Board Images<a href=#2-uploading-bottom-board-images class=hash-link aria-label="Direct link to 2. Uploading Bottom Board Images" title="Direct link to 2. Uploading Bottom Board Images" translate=no>â€‹</a></h4>
<ol>
<li class="">Select the bottom board in your hive structure</li>
<li class="">Click <strong>"Upload bottom board image"</strong></li>
<li class="">Choose a photo from your device showing the white slideable panel</li>
<li class="">The image will be uploaded and automatically queued for varroa detection</li>
</ol>
<p><strong>Photo Tips:</strong></p>
<ul>
<li class="">Ensure the white slideable panel is visible and clean</li>
<li class="">Take photos in good lighting conditions</li>
<li class="">Include the entire bottom board in the frame</li>
<li class="">Photos taken at the same angle help with comparison over time</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_rb2N" id=3-tracking-over-time>3. Tracking Over Time<a href=#3-tracking-over-time class=hash-link aria-label="Direct link to 3. Tracking Over Time" title="Direct link to 3. Tracking Over Time" translate=no>â€‹</a></h4>
<p>Bottom board images are automatically versioned with inspections:</p>
<ul>
<li class="">When you create a new inspection, the current bottom board image is saved as a snapshot</li>
<li class="">This allows you to track varroa levels over time</li>
<li class="">Historical images remain accessible through the inspection timeline</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_rb2N" id=-what-gets-tracked>ğŸ” What Gets Tracked<a href=#-what-gets-tracked class=hash-link aria-label="Direct link to ğŸ” What Gets Tracked" title="Direct link to ğŸ” What Gets Tracked" translate=no>â€‹</a></h3>
<p>Currently:</p>
<ul>
<li class="">âœ… Bottom board image uploads</li>
<li class="">âœ… Image storage and versioning with inspections</li>
<li class="">âœ… Integration with hive structure management</li>
</ul>
<p>Coming Soon:</p>
<ul>
<li class="">ğŸš§ Automated varroa mite counting from images</li>
<li class="">ğŸš§ Varroa count displayed on image with detection regions</li>
<li class="">ğŸš§ Historical charts showing varroa trends</li>
<li class="">ğŸš§ Alerts when varroa exceeds treatment thresholds</li>
<li class="">ğŸš§ Treatment recommendations based on mite counts</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_rb2N" id=ï¸-implementation-details>ğŸ—ï¸ Implementation Details<a href=#ï¸-implementation-details class=hash-link aria-label="Direct link to ğŸ—ï¸ Implementation Details" title="Direct link to ğŸ—ï¸ Implementation Details" translate=no>â€‹</a></h3>
<p><strong>Box Types Available:</strong></p>
<ul>
<li class=""><strong>Deep</strong> - Brood frames (typically 10-frame boxes)</li>
<li class=""><strong>Super</strong> - Honey storage frames</li>
<li class=""><strong>Entrance</strong> (formerly "Base") - Hive entrance with gates</li>
<li class=""><strong>Inner Lid</strong> - Ventilation layer on top</li>
<li class=""><strong>Queen Excluder</strong> - Prevents queen from moving up</li>
<li class=""><strong>Feeder</strong> - Sugar syrup feeding box</li>
<li class=""><strong>Bottom</strong> - â­ NEW - Bottom board for varroa monitoring</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_rb2N" id=-out-of-scope>ğŸš« Out of Scope<a href=#-out-of-scope class=hash-link aria-label="Direct link to ğŸš« Out of Scope" title="Direct link to ğŸš« Out of Scope" translate=no>â€‹</a></h3>
<ul>
<li class="">Physical bottom board hardware (this is a software feature for image tracking)</li>
<li class="">Real-time varroa detection (images are processed asynchronously)</li>
<li class="">Automatic treatment application (recommendations only)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_rb2N" id=-technical-specifications>ğŸ“Š Technical Specifications<a href=#-technical-specifications class=hash-link aria-label="Direct link to ğŸ“Š Technical Specifications" title="Direct link to ğŸ“Š Technical Specifications" translate=no>â€‹</a></h3>
<p><strong>File Support:</strong></p>
<ul>
<li class="">Image formats: JPEG, PNG, WebP</li>
<li class="">Maximum file size: 30 MB</li>
<li class="">Recommended resolution: 1920x1080 or higher</li>
</ul>
<p><strong>Storage:</strong></p>
<ul>
<li class="">Images stored in AWS S3 at <code>{user_id}/{hash}/original.{ext}</code></li>
<li class="">Database records in:<!-- -->
<ul>
<li class=""><code>files</code> table (file metadata)</li>
<li class=""><code>files_box_rel</code> table (box associations)</li>
<li class=""><code>files_hive_rel</code> table (hive associations)</li>
</ul>
</li>
<li class="">Inspection versioning via <code>inspection_id</code> field in <code>files_box_rel</code></li>
</ul>
<p><strong>GraphQL API Endpoints:</strong></p>
<div class="language-graphql codeBlockContainer_InFo theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_zYTH><pre tabindex=0 class="prism-code language-graphql codeBlock_Qx6K thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_VjvH><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># 1. Add bottom box to hive</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>mutation</span><span class="token plain"> </span><span class="token definition-mutation function" style=color:#d73a49>addBox</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable variable-input" style=color:#36acaa>$hiveId</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token scalar">ID</span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token variable variable-input" style=color:#36acaa>$position</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token scalar">Int</span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token variable variable-input" style=color:#36acaa>$type</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token class-name">BoxType</span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property-query property-mutation">addBox</span><span class="token punctuation" style=color:#393A34>(</span><span class="token attr-name" style=color:#00a4db>hiveId</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token variable variable-input" style=color:#36acaa>$hiveId</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token attr-name" style=color:#00a4db>position</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token variable variable-input" style=color:#36acaa>$position</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token attr-name" style=color:#00a4db>type</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token variable variable-input" style=color:#36acaa>$type</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>id</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>type</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>position</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># 2. Upload image file</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>mutation</span><span class="token plain"> </span><span class="token definition-mutation function" style=color:#d73a49>uploadFrameSide</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable variable-input" style=color:#36acaa>$file</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token class-name">Upload</span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property-query property-mutation">uploadFrameSide</span><span class="token punctuation" style=color:#393A34>(</span><span class="token attr-name" style=color:#00a4db>file</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token variable variable-input" style=color:#36acaa>$file</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>id</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>url</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token object">resizes</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>id</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>url</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token property" style=color:#36acaa>max_dimension_px</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># 3. Link uploaded file to bottom box</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>mutation</span><span class="token plain"> </span><span class="token definition-mutation function" style=color:#d73a49>addFileToBox</span><span class="token punctuation" style=color:#393A34>(</span><span class="token variable variable-input" style=color:#36acaa>$boxId</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token scalar">ID</span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token variable variable-input" style=color:#36acaa>$fileId</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token scalar">ID</span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token variable variable-input" style=color:#36acaa>$hiveId</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token scalar">ID</span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property-query property-mutation">addFileToBox</span><span class="token punctuation" style=color:#393A34>(</span><span class="token attr-name" style=color:#00a4db>boxId</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token variable variable-input" style=color:#36acaa>$boxId</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token attr-name" style=color:#00a4db>fileId</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token variable variable-input" style=color:#36acaa>$fileId</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token attr-name" style=color:#00a4db>hiveId</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token variable variable-input" style=color:#36acaa>$hiveId</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p><strong>Frontend Components:</strong></p>
<ul>
<li class=""><code>src/page/hiveEdit/bottomBox/BottomBox.tsx</code> - Main upload component</li>
<li class=""><code>src/page/hiveEdit/boxes/hiveButtons.tsx</code> - "Add bottom" button</li>
<li class=""><code>src/page/hiveEdit/index.tsx</code> - Integration with hive view</li>
<li class=""><code>src/models/boxes.ts</code> - Box type definitions</li>
</ul>
<p><strong>Backend Services:</strong></p>
<ul>
<li class=""><strong>swarm-api</strong> (Go):<!-- -->
<ul>
<li class=""><code>graph/schema.graphql</code> - GraphQL schema</li>
<li class=""><code>graph/model/box.go</code> - Box model</li>
<li class=""><code>migrations/20251201025115_add_bottom_box_type.sql</code> - Migration</li>
</ul>
</li>
<li class=""><strong>image-splitter</strong> (TypeScript):<!-- -->
<ul>
<li class=""><code>src/models/boxFile.ts</code> - Box file associations model</li>
<li class=""><code>src/graphql/resolvers.ts</code> - GraphQL resolvers</li>
<li class=""><code>migrations/018-box-files.sql</code> - Files table migration</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_rb2N" id=-related-features>ğŸ”— Related Features<a href=#-related-features class=hash-link aria-label="Direct link to ğŸ”— Related Features" title="Direct link to ğŸ”— Related Features" translate=no>â€‹</a></h3>
<ul>
<li class=""><a class="" href="/about/products/web_app/starter-tier/ğŸ” Inspection management">ğŸ” Inspection Management</a> - Inspection versioning</li>
<li class=""><a class="" href=/about/products/web_app/flexible-tier/video_playback>ğŸ“º Video Streaming Playback</a> - Gate entrance monitoring</li>
<li class="">Varroa Detection Model (in development)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_rb2N" id=-resources--references>ğŸ“š Resources & References<a href=#-resources--references class=hash-link aria-label="Direct link to ğŸ“š Resources & References" title="Direct link to ğŸ“š Resources & References" translate=no>â€‹</a></h3>
<ul>
<li class=""><a href=https://honeybeehealthcoalition.org/varroa/ target=_blank rel="noopener noreferrer" class="">Bottom Board Varroa Monitoring Guide</a> - Best practices</li>
<li class="">[Tech Stack & Conventions](../../../../docs/ğŸ“± Web-app/Tech stack, conventions, environments.md)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_rb2N" id=-implementation-notes>ğŸ’¬ Implementation Notes<a href=#-implementation-notes class=hash-link aria-label="Direct link to ğŸ’¬ Implementation Notes" title="Direct link to ğŸ’¬ Implementation Notes" translate=no>â€‹</a></h3>
<p><strong>Migrations Required:</strong></p>
<p>Both backend services require database migrations before the feature works:</p>
<div class="language-bash codeBlockContainer_InFo theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_zYTH><pre tabindex=0 class="prism-code language-bash codeBlock_Qx6K thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_VjvH><span class=token-line style=color:#393A34><span class="token plain"># 1. swarm-api migration - Add BOTTOM box type</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">cd swarm-api</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">just migrate-db-dev</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"># Runs: migrations/20251201025115_add_bottom_box_type.sql</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"># 2. image-splitter migration - Create files_box_rel table</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">cd image-splitter</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">just stop && just start  # Rebuilds container and auto-runs migrations</span><br/></span><span class=token-line style=color:#393A34><span class="token plain"># Runs: migrations/018-box-files.sql</span><br/></span></code></pre></div></div>
<p><strong>Deployment Steps:</strong></p>
<ol>
<li class="">Deploy swarm-api with BOTTOM box type</li>
<li class="">Deploy image-splitter with files_box_rel table</li>
<li class="">Deploy web-app with BottomBox component</li>
<li class="">Restart graphql-router to pick up new schema</li>
</ol>
<p><strong>Build Info:</strong></p>
<ul>
<li class="">Backend: swarm-api v1.0 (Go 1.23+)</li>
<li class="">Image Service: image-splitter v1.0 (TypeScript/Node.js)</li>
<li class="">Frontend: web-app v1.0 (Preact/React)</li>
<li class="">Build size: 2.17 MB (gzipped 681 KB)</li>
</ul>
<p><strong>Key Files:</strong></p>
<ul>
<li class="">Migrations:<!-- -->
<ul>
<li class=""><code>swarm-api/migrations/20251201025115_add_bottom_box_type.sql</code></li>
<li class=""><code>image-splitter/migrations/018-box-files.sql</code></li>
</ul>
</li>
<li class="">Models:<!-- -->
<ul>
<li class=""><code>swarm-api/graph/model/box.go</code></li>
<li class=""><code>image-splitter/src/models/boxFile.ts</code></li>
</ul>
</li>
<li class="">Components:<!-- -->
<ul>
<li class=""><code>web-app/src/page/hiveEdit/bottomBox/BottomBox.tsx</code></li>
</ul>
</li>
</ul>
<p><strong>Testing:</strong></p>
<p>After deployment, verify:</p>
<div class="language-sql codeBlockContainer_InFo theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_zYTH><pre tabindex=0 class="prism-code language-sql codeBlock_Qx6K thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_VjvH><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>-- Check box type enum includes BOTTOM</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>SHOW</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>COLUMNS</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>FROM</span><span class="token plain"> boxes </span><span class="token operator" style=color:#393A34>LIKE</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'type'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>-- Check files_box_rel table exists</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>DESCRIBE</span><span class="token plain"> files_box_rel</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>-- Test: Create bottom box and upload image</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>-- Verify records created:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>SELECT</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>FROM</span><span class="token plain"> boxes </span><span class="token keyword" style=color:#00009f>WHERE</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>type</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'BOTTOM'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>SELECT</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>FROM</span><span class="token plain"> files_box_rel </span><span class="token keyword" style=color:#00009f>ORDER</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>BY</span><span class="token plain"> added_time </span><span class="token keyword" style=color:#00009f>DESC</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>LIMIT</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>5</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p><strong>Known Limitations:</strong></p>
<ul>
<li class="">Images display not yet implemented in UI (upload works, viewing coming soon)</li>
<li class="">Varroa detection model still in development</li>
<li class="">Historical charts not yet available</li>
</ul>
<hr/>
<p><strong>Last Updated</strong>: December 1, 2025
<strong>Status</strong>: Beta - Image upload functional, AI detection in development
<strong>Implementation</strong>: Complete (3 services: swarm-api, web-app, image-splitter)
<strong>Next Review</strong>: January 2026</div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/about/products/web_app/pro-tier/ğŸ“ˆ Count bees - in the cloud"><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>ğŸ“ˆ Count bees - in the cloud</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/about/products/web_app/starter-tier/ideas ğŸ’¡/â˜€ï¸ Solar radiance as weather datasource"><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>â˜€ï¸ Solar radiance as weather datasource</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_y_d7 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#-purpose class="table-of-contents__link toc-highlight">ğŸ¯ Purpose</a><li><a href=#-user-story class="table-of-contents__link toc-highlight">ğŸ­ User Story</a><li><a href=#-key-benefits class="table-of-contents__link toc-highlight">ğŸš€ Key Benefits</a><li><a href=#-technical-overview class="table-of-contents__link toc-highlight">ğŸ”§ Technical Overview</a><li><a href=#-how-to-use class="table-of-contents__link toc-highlight">ğŸ“‹ How to Use</a><li><a href=#-what-gets-tracked class="table-of-contents__link toc-highlight">ğŸ” What Gets Tracked</a><li><a href=#ï¸-implementation-details class="table-of-contents__link toc-highlight">ğŸ—ï¸ Implementation Details</a><li><a href=#-out-of-scope class="table-of-contents__link toc-highlight">ğŸš« Out of Scope</a><li><a href=#-technical-specifications class="table-of-contents__link toc-highlight">ğŸ“Š Technical Specifications</a><li><a href=#-related-features class="table-of-contents__link toc-highlight">ğŸ”— Related Features</a><li><a href=#-resources--references class="table-of-contents__link toc-highlight">ğŸ“š Resources & References</a><li><a href=#-implementation-notes class="table-of-contents__link toc-highlight">ğŸ’¬ Implementation Notes</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title></div><ul class="footer__items clean-list"><li class=footer__item>
                <a href=https://ariregister.rik.ee/est/company/12245103/Gratheon-O%C3%9C>Gratheon OÃœ</a><br/>
                Tallinn, Estonia
              </ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title></div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/privacy>Privacy Policy</a><li class=footer__item><a class=footer__link-item href=/terms>Terms Of Service</a><li class=footer__item><a href=mailto:pilot@gratheon.com target=_blank rel="noopener noreferrer" class=footer__link-item>Email<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_c9sx><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://tawk.to/gratheon target=_blank rel="noopener noreferrer" class=footer__link-item>Support Chat<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_c9sx><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://gratheon.statuspage.io/ target=_blank rel="noopener noreferrer" class=footer__link-item>Service Status<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_c9sx><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title></div><ul class="footer__items clean-list"><li class=footer__item><a href=https://t.me/gratheon target=_blank rel="noopener noreferrer" class=footer__link-item>Telegram<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_c9sx><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://twitter.com/gratheon target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_c9sx><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://www.linkedin.com/company/gratheon/ target=_blank rel="noopener noreferrer" class=footer__link-item>LinkedIn<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_c9sx><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title></div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.facebook.com/gratheon target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://www.twitch.tv/tot_ra target=_blank rel="noopener noreferrer" class=footer__link-item>Twitch</a><li class=footer__item><a href=https://www.youtube.com/@gratheon-bees target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_c9sx><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title></div><ul class="footer__items clean-list"><li class=footer__item><img src=/img/nvidia-inception-program-badge-rgb-for-screen.svg alt="NVIDIA Inception Program Member" style="max-width:200px; height: auto;"/></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright Â© 2025 Gratheon OÃœ. Gratheonâ„¢ is a pending EU trademark.</div></div></div></footer></div></body>
"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["52889"],{85473(e,n,t){t.r(n),t.d(n,{metadata:()=>i,default:()=>h,frontMatter:()=>r,contentTitle:()=>l,toc:()=>o,assets:()=>c});var i=JSON.parse('{"id":"web-app/features/hive-placement-planner","title":"Hive Placement Planner - Technical Documentation","description":"\u{1F3AF} Overview","source":"@site/docs/web-app/features/hive-placement-planner.md","sourceDirName":"web-app/features","slug":"/web-app/features/hive-placement-planner","permalink":"/docs/web-app/features/hive-placement-planner","draft":false,"unlisted":false,"editUrl":"https://github.com/gratheon/website/tree/main/packages/create-docusaurus/templates/shared/docs/web-app/features/hive-placement-planner.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Frame Side Management - Technical Documentation","permalink":"/docs/web-app/features/frame-side-management"},"next":{"title":"Hive Management - Technical Documentation","permalink":"/docs/web-app/features/hive-management"}}'),s=t(86070),a=t(18439);let r={sidebar_position:8},l="Hive Placement Planner - Technical Documentation",c={},o=[{value:"\u{1F3AF} Overview",id:"-overview",level:3},{value:"\u{1F3D7}\uFE0F Architecture",id:"\uFE0F-architecture",level:3},{value:"Components",id:"components",level:4},{value:"Services",id:"services",level:4},{value:"\u{1F4CB} Technical Specifications",id:"-technical-specifications",level:3},{value:"Database Schema",id:"database-schema",level:4},{value:"GraphQL API",id:"graphql-api",level:4},{value:"\u{1F527} Implementation Details",id:"-implementation-details",level:3},{value:"Frontend Architecture",id:"frontend-architecture",level:4},{value:"Backend (Go)",id:"backend-go",level:4},{value:"\u{1F3A8} Interaction Patterns",id:"-interaction-patterns",level:3},{value:"Mouse Event Handling",id:"mouse-event-handling",level:4},{value:"Auto-Save Strategy",id:"auto-save-strategy",level:4},{value:"\u{1F4CA} Performance Considerations",id:"-performance-considerations",level:3},{value:"\u{1F512} Security",id:"-security",level:3},{value:"\u{1F41B} Known Issues &amp; Limitations",id:"-known-issues--limitations",level:3},{value:"\u{1F680} Future Enhancements",id:"-future-enhancements",level:3},{value:"\u{1F4DA} Related Documentation",id:"-related-documentation",level:3},{value:"\u{1F9EA} Testing",id:"-testing",level:3}];function d(e){let n={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"hive-placement-planner---technical-documentation",children:"Hive Placement Planner - Technical Documentation"})}),"\n",(0,s.jsx)(n.h3,{id:"-overview",children:"\u{1F3AF} Overview"}),"\n",(0,s.jsx)(n.p,{children:"Interactive canvas-based planning tool for optimal hive placement within apiaries. Features real-time sun simulation, polygonal shadow rendering, and comprehensive object manipulation with auto-save functionality. Built with HTML5 Canvas and React hooks."}),"\n",(0,s.jsx)(n.h3,{id:"\uFE0F-architecture",children:"\u{1F3D7}\uFE0F Architecture"}),"\n",(0,s.jsx)(n.h4,{id:"components",children:"Components"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"HivePlacement"}),": Main React component (",(0,s.jsx)(n.code,{children:"/web-app/src/page/apiaryEdit/hivePlacement/index.tsx"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Canvas Rendering"}),": Custom drawing functions for hives, obstacles, shadows, and UI elements"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"State Management"}),": React hooks with Map-based placements for O(1) lookups"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"services",children:"Services"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"swarm-api"}),": Hive placement CRUD, obstacle management, GraphQL API"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"web-app"}),": Frontend React application with canvas rendering"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"mysql"}),": Data persistence for placements and obstacles"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-technical-specifications",children:"\u{1F4CB} Technical Specifications"}),"\n",(0,s.jsx)(n.h4,{id:"database-schema",children:"Database Schema"}),"\n",(0,s.jsxs)(n.p,{children:["Migration: ",(0,s.jsx)(n.code,{children:"20251208190000_add_hive_placement.sql"})]}),"\n",(0,s.jsx)(n.mermaid,{value:'erDiagram\n    users ||--o{ hive_placements : owns\n    apiaries ||--o{ hive_placements : contains\n    hives ||--o{ hive_placements : has\n    users ||--o{ apiary_obstacles : owns\n    apiaries ||--o{ apiary_obstacles : contains\n\n    users {\n        INT_UNSIGNED id PK\n    }\n\n    apiaries {\n        INT_UNSIGNED id PK\n    }\n\n    hives {\n        INT_UNSIGNED id PK\n    }\n\n    hive_placements {\n        INT_UNSIGNED id PK\n        INT_UNSIGNED user_id FK "NOT NULL"\n        INT_UNSIGNED apiary_id FK "NOT NULL"\n        INT_UNSIGNED hive_id FK "NOT NULL, UNIQUE(apiary_id,hive_id,user_id)"\n        FLOAT x "NOT NULL"\n        FLOAT y "NOT NULL"\n        FLOAT rotation "NOT NULL, DEFAULT 180"\n        TIMESTAMP created_at\n        TIMESTAMP updated_at\n    }\n\n    apiary_obstacles {\n        INT_UNSIGNED id PK\n        INT_UNSIGNED user_id FK "NOT NULL"\n        INT_UNSIGNED apiary_id FK "NOT NULL"\n        ENUM type "NOT NULL, CIRCLE|RECTANGLE"\n        FLOAT x "NOT NULL"\n        FLOAT y "NOT NULL"\n        FLOAT width "NULL"\n        FLOAT height "NULL"\n        FLOAT radius "NULL"\n        FLOAT rotation "NOT NULL, DEFAULT 0"\n        VARCHAR label "NULL, max 100"\n        TIMESTAMP created_at\n        TIMESTAMP updated_at\n    }'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Indexes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"hive_placements"}),": ",(0,s.jsx)(n.code,{children:"idx_apiary_user (apiary_id, user_id)"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"apiary_obstacles"}),": ",(0,s.jsx)(n.code,{children:"idx_apiary_user (apiary_id, user_id)"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Constraints:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["All foreign keys: ",(0,s.jsx)(n.code,{children:"ON DELETE CASCADE"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"hive_placements"}),": Unique constraint on ",(0,s.jsx)(n.code,{children:"(apiary_id, hive_id, user_id)"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"graphql-api",children:"GraphQL API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:"type HivePlacement {\n  id: ID!\n  apiaryId: ID!\n  hiveId: ID!\n  x: Float!\n  y: Float!\n  rotation: Float!\n}\n\ntype ApiaryObstacle {\n  id: ID!\n  apiaryId: ID!\n  type: ObstacleType!\n  x: Float!\n  y: Float!\n  width: Float\n  height: Float\n  radius: Float\n  rotation: Float!\n  label: String\n}\n\nenum ObstacleType {\n  CIRCLE\n  RECTANGLE\n}\n\ninput ApiaryObstacleInput {\n  type: ObstacleType!\n  x: Float!\n  y: Float!\n  width: Float\n  height: Float\n  radius: Float\n  rotation: Float!\n  label: String\n}\n\n# Queries\nhivePlacements(apiaryId: ID!): [HivePlacement!]!\napiaryObstacles(apiaryId: ID!): [ApiaryObstacle!]!\n\n# Mutations\nupdateHivePlacement(\n  apiaryId: ID!\n  hiveId: ID!\n  x: Float!\n  y: Float!\n  rotation: Float!\n): HivePlacement!\n\naddApiaryObstacle(\n  apiaryId: ID!\n  obstacle: ApiaryObstacleInput!\n): ApiaryObstacle!\n\nupdateApiaryObstacle(\n  id: ID!\n  obstacle: ApiaryObstacleInput!\n): ApiaryObstacle!\n\ndeleteApiaryObstacle(id: ID!): Boolean!\n"})}),"\n",(0,s.jsx)(n.h3,{id:"-implementation-details",children:"\u{1F527} Implementation Details"}),"\n",(0,s.jsx)(n.h4,{id:"frontend-architecture",children:"Frontend Architecture"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"State Management"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Placements stored as Map for O(1) access\nconst [placements, setPlacements] = useState<Map<string, HivePlacement>>(new Map())\nconst [obstacles, setObstacles] = useState<Obstacle[]>([])\n\n// Interaction states\nconst [selectedHive, setSelectedHive] = useState<string | null>(null)\nconst [selectedObstacle, setSelectedObstacle] = useState<string | null>(null)\nconst [isDragging, setIsDragging] = useState(false)\nconst [isDraggingRotation, setIsDraggingRotation] = useState(false)\nconst [isDraggingObstacle, setIsDraggingObstacle] = useState(false)\nconst [isResizingObstacle, setIsResizingObstacle] = useState(false)\nconst [isDraggingObstacleRotation, setIsDraggingObstacleRotation] = useState(false)\n\n// Sun simulation\nconst [sunAngle, setSunAngle] = useState(90) // Start at East\nconst [autoRotate, setAutoRotate] = useState(false)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Canvas Dimensions"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const HIVE_SIZE = 30 // pixels\nconst CANVAS_HEIGHT = 600 // fixed height\nconst [canvasWidth, setCanvasWidth] = useState(800) // dynamic, responsive\n\n// ResizeObserver for width tracking\nuseEffect(() => {\n  const updateCanvasWidth = () => {\n    if (containerRef.current) {\n      const width = containerRef.current.offsetWidth\n      setCanvasWidth(Math.max(600, width))\n    }\n  }\n  \n  const observer = new ResizeObserver(updateCanvasWidth)\n  if (containerRef.current) observer.observe(containerRef.current)\n  \n  return () => observer.disconnect()\n}, [])\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Rendering Pipeline"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const drawCanvas = () => {\n  const ctx = canvas.getContext('2d')\n  \n  // 1. Clear canvas\n  ctx.clearRect(0, 0, canvasWidth, CANVAS_HEIGHT)\n  \n  // 2. Draw background\n  ctx.fillStyle = '#e8f5e9'\n  ctx.fillRect(0, 0, canvasWidth, CANVAS_HEIGHT)\n  \n  // 3. Draw compass with sun\n  drawCompass(ctx)\n  \n  // 4. Draw shadows (obstacles + hives)\n  drawShadows(ctx)\n  \n  // 5. Draw obstacles with handles\n  drawObstacles(ctx)\n  \n  // 6. Draw hives with handles\n  drawHives(ctx)\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Shadow Algorithm (Critical)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Shadow offset calculation (away from sun)\nconst angleRad = (sunAngle - 90) * (Math.PI / 180)\nconst shadowLength = 80\nconst shadowOffsetX = -Math.cos(angleRad) * shadowLength  // Negative = away from sun\nconst shadowOffsetY = -Math.sin(angleRad) * shadowLength\n\n// Polygonal shadow for rectangles\nconst drawRectangleShadow = (obstacle) => {\n  const rotRad = (obstacle.rotation || 0) * (Math.PI / 180)\n  \n  // 1. Get rotated corners\n  const corners = [\n    { x: -width/2, y: -height/2 },\n    { x: width/2, y: -height/2 },\n    { x: width/2, y: height/2 },\n    { x: -width/2, y: height/2 }\n  ]\n  const rotatedCorners = corners.map(c => ({\n    x: obs.x + c.x * Math.cos(rotRad) - c.y * Math.sin(rotRad),\n    y: obs.y + c.x * Math.sin(rotRad) + c.y * Math.cos(rotRad)\n  }))\n  \n  // 2. Draw continuous path: object \u2192 shadow \u2192 close\n  ctx.beginPath()\n  // Draw object outline\n  rotatedCorners.forEach((c, i) => {\n    if (i === 0) ctx.moveTo(c.x, c.y)\n    else ctx.lineTo(c.x, c.y)\n  })\n  // Draw to shadow projections (reverse order)\n  for (let i = rotatedCorners.length - 1; i >= 0; i--) {\n    const c = rotatedCorners[i]\n    ctx.lineTo(c.x + shadowOffsetX, c.y + shadowOffsetY)\n  }\n  ctx.closePath()\n  ctx.fill()\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Initialization Strategy (Merge Pattern)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"useEffect(() => {\n  if (loading || !hives.length) return\n  \n  const map = new Map()\n  \n  // 1. Load saved placements from backend\n  if (data?.hivePlacements) {\n    data.hivePlacements.forEach(p => map.set(p.hiveId, p))\n  }\n  \n  // 2. Add defaults for hives without placements\n  hives.forEach((hive, index) => {\n    if (!map.has(hive.id)) {\n      map.set(hive.id, {\n        hiveId: hive.id,\n        x: 150 + (index % 5) * 120,\n        y: 150 + Math.floor(index / 5) * 100,\n        rotation: 180  // South-facing by default\n      })\n    }\n  })\n  \n  setPlacements(map)\n  setInitializedPlacements(true)\n}, [data, hives.length, loading])\n"})}),"\n",(0,s.jsx)(n.h4,{id:"backend-go",children:"Backend (Go)"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Models"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// graph/model/hive_placement.go\ntype HivePlacement struct {\n    ID       uint    `json:"id"`\n    UserID   uint    `json:"userId"`\n    ApiaryID uint    `json:"apiaryId"`\n    HiveID   uint    `json:"hiveId"`\n    X        float64 `json:"x"`\n    Y        float64 `json:"y"`\n    Rotation float64 `json:"rotation"`\n}\n\nfunc (hp *HivePlacement) Upsert(apiaryId, hiveId string, x, y, rotation float64) (*HivePlacement, error) {\n    // Check for existing placement\n    var existingID uint\n    err := hp.Db.QueryRow(`\n        SELECT id FROM hive_placements \n        WHERE apiary_id=? AND hive_id=? AND user_id=?\n    `, apiaryId, hiveId, hp.UserID).Scan(&existingID)\n    \n    if err == sql.ErrNoRows {\n        // Insert new\n        result, err := hp.Db.Exec(`\n            INSERT INTO hive_placements (user_id, apiary_id, hive_id, x, y, rotation)\n            VALUES (?, ?, ?, ?, ?, ?)\n        `, hp.UserID, apiaryId, hiveId, x, y, rotation)\n        // ... handle result\n    } else {\n        // Update existing\n        _, err = hp.Db.Exec(`\n            UPDATE hive_placements \n            SET x=?, y=?, rotation=? \n            WHERE id=? AND user_id=?\n        `, x, y, rotation, existingID, hp.UserID)\n        // ... handle result\n    }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Resolvers"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// graph/schema.resolvers.go\nfunc (r *queryResolver) HivePlacements(ctx context.Context, apiaryID string) ([]*model.HivePlacement, error) {\n    uid := ctx.Value("userID").(string)\n    return (&model.HivePlacement{\n        Db:     r.Resolver.Db,\n        UserID: uid,\n    }).List(apiaryID)\n}\n\nfunc (r *mutationResolver) UpdateHivePlacement(ctx context.Context, \n    apiaryID string, hiveID string, x float64, y float64, rotation float64) (*model.HivePlacement, error) {\n    uid := ctx.Value("userID").(string)\n    return (&model.HivePlacement{\n        Db:     r.Resolver.Db,\n        UserID: uid,\n    }).Upsert(apiaryID, hiveID, x, y, rotation)\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"-interaction-patterns",children:"\u{1F3A8} Interaction Patterns"}),"\n",(0,s.jsx)(n.h4,{id:"mouse-event-handling",children:"Mouse Event Handling"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"handleCanvasMouseDown(e) {\n  const { x, y } = getMousePos(e)\n  \n  // Priority 1: Check selected object handles\n  if (selectedObstacle) {\n    if (isOverResizeHandle(x, y)) {\n      setIsResizingObstacle(true)\n      return\n    }\n    if (isOverRotationHandle(x, y)) {\n      setIsDraggingObstacleRotation(true)\n      return\n    }\n    if (isInsideObstacle(x, y)) {\n      setIsDraggingObstacle(true)\n      return\n    }\n  }\n  \n  // Priority 2: Check hive handles\n  if (selectedHive) {\n    if (isOverHiveRotationHandle(x, y)) {\n      setIsDraggingRotation(true)\n      return\n    }\n    if (isInsideHive(x, y)) {\n      setIsDragging(true)\n      return\n    }\n  }\n  \n  // Priority 3: Select new object\n  for (const obstacle of obstacles) {\n    if (isInsideObstacle(x, y, obstacle)) {\n      setSelectedObstacle(obstacle.id)\n      setSelectedHive(null)\n      setIsDraggingObstacle(true)\n      return\n    }\n  }\n  \n  for (const hive of hives) {\n    if (isInsideHive(x, y, hive)) {\n      setSelectedHive(hive.id)\n      setSelectedObstacle(null)\n      setIsDragging(true)\n      return\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"auto-save-strategy",children:"Auto-Save Strategy"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"handleCanvasMouseUp() {\n  // Only save on mouse up, not on every move\n  if ((isDraggingObstacle || isResizingObstacle || isDraggingObstacleRotation) \n      && selectedObstacle) {\n    const obs = obstacles.find(o => o.id === selectedObstacle)\n    if (obs) {\n      updateObstacle({\n        id: selectedObstacle,\n        obstacle: {\n          type: obs.type,\n          x: obs.x,\n          y: obs.y,\n          width: obs.width,\n          height: obs.height,\n          radius: obs.radius,\n          rotation: obs.rotation\n        }\n      })\n    }\n  }\n  \n  if ((isDragging || isDraggingRotation) && selectedHive) {\n    const placement = placements.get(selectedHive)\n    if (placement) {\n      updatePlacement({\n        apiaryId,\n        hiveId: selectedHive,\n        x: placement.x,\n        y: placement.y,\n        rotation: placement.rotation\n      })\n    }\n  }\n  \n  // Reset all dragging states\n  setIsDragging(false)\n  setIsDraggingRotation(false)\n  setIsDraggingObstacle(false)\n  setIsDraggingObstacleRotation(false)\n  setIsResizingObstacle(false)\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"-performance-considerations",children:"\u{1F4CA} Performance Considerations"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Rendering Optimization"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Canvas redraws on state change (acceptable for ",(0,s.jsx)(n.code,{children:"<100"})," objects)"]}),"\n",(0,s.jsx)(n.li,{children:"Shadow calculations: O(n) where n = obstacles + hives"}),"\n",(0,s.jsx)(n.li,{children:"Map-based placements: O(1) lookups"}),"\n",(0,s.jsx)(n.li,{children:"ResizeObserver throttled by browser (~16ms)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Memory Management"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Single canvas element (no memory leaks)"}),"\n",(0,s.jsx)(n.li,{children:"Event listeners properly cleaned up in useEffect"}),"\n",(0,s.jsx)(n.li,{children:"Map updates create new Map (immutable pattern)"}),"\n",(0,s.jsx)(n.li,{children:"No memory growth during long sessions"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Network Optimization"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Debounced saves (only on mouse up)"}),"\n",(0,s.jsx)(n.li,{children:"GraphQL mutations batched by browser"}),"\n",(0,s.jsx)(n.li,{children:"No polling (push-based updates via mutations)"}),"\n",(0,s.jsx)(n.li,{children:"Queries cached by Apollo Client"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-security",children:"\u{1F512} Security"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Authorization"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"User ID from JWT context"}),"\n",(0,s.jsx)(n.li,{children:"All queries filtered by user_id"}),"\n",(0,s.jsx)(n.li,{children:"Foreign key constraints prevent orphaned data"}),"\n",(0,s.jsx)(n.li,{children:"ON DELETE CASCADE for data cleanup"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Input Validation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Go type system validates GraphQL inputs"}),"\n",(0,s.jsx)(n.li,{children:"Database constraints enforce data integrity"}),"\n",(0,s.jsx)(n.li,{children:"Frontend prevents out-of-bounds placements"}),"\n",(0,s.jsx)(n.li,{children:"Minimum/maximum size limits enforced"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Data Isolation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Each user sees only their placements"}),"\n",(0,s.jsx)(n.li,{children:"Unique constraints prevent duplicate placements"}),"\n",(0,s.jsx)(n.li,{children:"Apiary-level isolation in queries"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-known-issues--limitations",children:"\u{1F41B} Known Issues & Limitations"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Browser Support"}),": ResizeObserver not available in IE11 (acceptable)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Touch Events"}),": Basic support, not optimized for mobile"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Undo/Redo"}),": Not implemented (future enhancement)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Keyboard Navigation"}),": Not implemented (accessibility gap)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Screen Readers"}),": Limited support (canvas-based UI)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-future-enhancements",children:"\u{1F680} Future Enhancements"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Phase 2"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Distance measurement tool"}),"\n",(0,s.jsx)(n.li,{children:"Flight path visualization overlay"}),"\n",(0,s.jsx)(n.li,{children:"Wind direction indicator"}),"\n",(0,s.jsx)(n.li,{children:"Print/export to PDF"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Phase 3"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Import obstacles from satellite imagery"}),"\n",(0,s.jsx)(n.li,{children:"Clone layout to other apiaries"}),"\n",(0,s.jsx)(n.li,{children:"Seasonal sun angle presets"}),"\n",(0,s.jsx)(n.li,{children:"Mobile touch gesture optimization"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Phase 4"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Collaborative planning (multi-user)"}),"\n",(0,s.jsx)(n.li,{children:"Historical layout versioning"}),"\n",(0,s.jsx)(n.li,{children:"Layout templates library"}),"\n",(0,s.jsx)(n.li,{children:"AR visualization (mobile camera overlay)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-related-documentation",children:"\u{1F4DA} Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/web-app/features/apiary-management",children:"Apiary Management"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/web-app/features/hive-management",children:"Hive Management"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/web-app/features/user-registration",children:"User Registration"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-testing",children:"\u{1F9EA} Testing"}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"https://github.com/Gratheon/web-app/blob/main/docs/HIVE_PLACEMENT_TESTING.md",children:"HIVE_PLACEMENT_TESTING.md"})," for comprehensive test scenarios and acceptance criteria."]})]})}function h(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},18439(e,n,t){t.d(n,{R:()=>r,x:()=>l});var i=t(30758);let s={},a=i.createContext(s);function r(e){let n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);
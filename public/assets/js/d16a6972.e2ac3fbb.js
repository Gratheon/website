"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[94645],{54124:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"entrance-observer/Remote Desktop connection setup","title":"Remote Desktop connection setup \ud83d\udda5\ufe0f","description":"Remote desktop with VNC","source":"@site/docs/entrance-observer/Remote Desktop connection setup.md","sourceDirName":"entrance-observer","slug":"/entrance-observer/Remote Desktop connection setup","permalink":"/docs/entrance-observer/Remote Desktop connection setup","draft":false,"unlisted":false,"editUrl":"https://github.com/gratheon/website/tree/main/packages/create-docusaurus/templates/shared/docs/entrance-observer/Remote Desktop connection setup.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Remote Desktop connection setup \ud83d\udda5\ufe0f"},"sidebar":"tutorialSidebar","previous":{"title":"Jetson Nano setup","permalink":"/docs/entrance-observer/Jetson Nano setup"},"next":{"title":"Jetson Orin setup","permalink":"/docs/entrance-observer/Jetson Orin setup"}}');var o=t(74848),r=t(28453);const i={sidebar_position:2,title:"Remote Desktop connection setup \ud83d\udda5\ufe0f"},c=void 0,l={},a=[{value:"Remote desktop with VNC",id:"remote-desktop-with-vnc",level:3},{value:"Adding autostart",id:"adding-autostart",level:2},{value:"Set default resolution to not be 640x480",id:"set-default-resolution-to-not-be-640x480",level:2},{value:"On Host machine",id:"on-host-machine",level:3},{value:"(Optional) Remote desktop with xrdp",id:"optional-remote-desktop-with-xrdp",level:2},{value:"Connecting from the browser",id:"connecting-from-the-browser",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h3,{id:"remote-desktop-with-vnc",children:"Remote desktop with VNC"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install vino\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If you try to share your desktop from the Jetson Nano, the process fails; running\xa0",(0,o.jsx)(n.em,{children:"Desktop Sharing"}),"\xa0fails with an error. This recipe shows you how to fix the issue, and connect remotely via VNCViewer. Having said that, we still prefer connecting via RDP (XRDP), which we find faster and more convenient."]}),"\n",(0,o.jsx)(n.p,{children:"To fix the issue, follow the steps below:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["First, we will edit the\xa0",(0,o.jsx)(n.code,{children:"org.gnome.Vino"}),"\xa0schema, as it has a missing parameter called\xa0",(0,o.jsx)(n.code,{children:"enabled"}),". Open the schema:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo nano /usr/share/glib-2.0/schemas/org.gnome.Vino.gschema.xml\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"Add the missing key (any location will do):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<key name='enabled' type='b'>\n   <summary>Enable remote access to the desktop</summary>\n   <description>\n   If true, allows remote access to the desktop via the RFB\n   protocol. Users on remote machines may then connect to the\n   desktop using a VNC viewer.\n   </description>\n   <default>false</default>\n</key>\n\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Compile the new Gnome schema configuration:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo glib-compile-schemas /usr/share/glib-2.0/schemas\n\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Update the\xa0",(0,o.jsx)(n.em,{children:"Desktop Sharing"}),"\xa0settings. Your application should work now. Launch it from your Jetson Nano desktop.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Enable\xa0",(0,o.jsx)(n.strong,{children:"Allow other users to view your desktop"})]}),"\n",(0,o.jsxs)(n.li,{children:["Enable the subsection\xa0",(0,o.jsx)(n.strong,{children:"Allow other users to control your desktop"})]}),"\n",(0,o.jsxs)(n.li,{children:["Turn off the feature\xa0",(0,o.jsx)(n.strong,{children:"You must confirm each access to this machine"})]}),"\n",(0,o.jsxs)(n.li,{children:["Setup the password in the section\xa0",(0,o.jsx)(n.strong,{children:"Require the user to enter this password"})]}),"\n",(0,o.jsxs)(n.li,{children:["Close the\xa0",(0,o.jsx)(n.em,{children:"Desktop Sharing"}),"\xa0settings. You are done here"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Setup the VNC server to autostart","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Open the\xa0",(0,o.jsx)(n.em,{children:"Startup Application Preferences"}),"\xa0panel"]}),"\n",(0,o.jsxs)(n.li,{children:["Add your VNC (Vino) entry: Add a name ('Vino'), a description (any text which makes sense to you) and the command:\xa0",(0,o.jsx)(n.code,{children:"/usr/lib/vino/vino-server"}),". Close the app"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.li,{children:"Disable encryption for the VNC server: unfortunately, at the time of this writing, we have to live without it. In the terminal, type the following:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"gsettings set org.gnome.Vino require-encryption false\ngsettings set org.gnome.Vino prompt-enabled false\n\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"reboot"}),"\n",(0,o.jsxs)(n.li,{children:["after reboot, you can use any\xa0",(0,o.jsx)(n.strong,{children:"VNCViewer"}),"\xa0from your laptop to connect to the shared screen. Needless to say, the speed is what it is and if you can, use the previous, XRDP recipe."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note"}),": as we are crippling the security setup for remote connections via VNC, we have to be aware and enable the VNC feature (this whole section) only if needed."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Run network config to get IP of jetson machine, look under wlan0 or eth0 depending on if its using wifi or ethernet"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"ifconfig\nexport DISPLAY=:1 && /usr/lib/vino/vino-server\n"})}),"\n",(0,o.jsx)(n.h2,{id:"adding-autostart",children:"Adding autostart"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/systemd/system/vnc.service\n[Unit]\nDescription=Start vino\nAfter = network.target\n\n[Service]\nExecStart=/usr/lib/vino/vino-server\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo systemctl daemon-reload\nnano ~/.config/autostart/systemctl.desktop\n\n[Desktop Entry]\nType=Application\nExec=systemctl --user start vnc-server\nHidden=false\nNoDisplay=false\nX-GNOME-Autostart-enabled=true\nName[en_US]=vino Server\nName=vino Server\nComment[en_US]=Auto-start the VNC service on boot and login back in\nComment=Auto-start the VNC service on boot\n"})}),"\n",(0,o.jsx)(n.h2,{id:"set-default-resolution-to-not-be-640x480",children:"Set default resolution to not be 640x480"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"sudo nano /etc/X11/xorg.conf"})}),"\n",(0,o.jsx)(n.p,{children:"Append:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'Section "Screen"\n\tIdentifier "Default Screen"\n\tMonitor "Configured Monitor"\n\tDevice "Tegra0"\n\tSubSection "Display"\n\tDepth 24\n\tVirtual 1280 800 # Modify the resolution by editing these values\n\tEndSubSection\nEndSection\n'})}),"\n",(0,o.jsx)(n.p,{children:"restart"}),"\n",(0,o.jsx)(n.h3,{id:"on-host-machine",children:"On Host machine"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["download and run RealVNC ",(0,o.jsx)(n.a,{href:"https://www.realvnc.com/en/connect/download/viewer/macos/",children:"https://www.realvnc.com/en/connect/download/viewer/macos/"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Alternatively, you can use TigetVNC ",(0,o.jsx)(n.a,{href:"https://tigervnc.org/",children:"https://tigervnc.org/"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.li,{children:"Connect to vnc://ip-of-jetson from the last step above"}),"\n",(0,o.jsx)(n.li,{children:"Configure picture quality to lowest settings to have better responsiveness"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"optional-remote-desktop-with-xrdp",children:"(Optional) Remote desktop with xrdp"}),"\n",(0,o.jsx)(n.p,{children:"This is useful for host machines running Windows"}),"\n",(0,o.jsx)("iframe",{width:"100%",height:"400",src:"https://www.youtube.com/embed/7-WMvmWVxJQ",title:"L-2 Jetson Nano Headless | Use Jetson Nano Remotely",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",(0,o.jsx)(n.h2,{id:"connecting-from-the-browser",children:"Connecting from the browser"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["checkout ",(0,o.jsx)(n.a,{href:"https://github.com/novnc/noVNC",children:"https://github.com/novnc/noVNC"})," locally"]}),"\n",(0,o.jsx)(n.li,{children:"run"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"./utils/novnc_proxy --vnc 192.168.1.223:5900 --listen [localhost:6081](<http://localhost:6081>)\n"})}),"\n",(0,o.jsxs)(n.p,{children:["where ",(0,o.jsx)(n.code,{children:"192.168.1.223"})," is the IP of the jetson"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"open browser link that it suggests"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(44765).A+"",width:"1372",height:"948"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},44765:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/Screenshot 2024-06-20 at 19.13.32-7bb94ad1554116b148687eaf349e192e.png"},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var s=t(96540);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);
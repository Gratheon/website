"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[73],{8626:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var s=r(74848),n=r(28453);const o={title:"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f Entrance observer",sidebar_position:5,hide_table_of_contents:!0},a=void 0,i={id:"entrance-observer/entrance-observer",title:"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f Entrance observer",description:"Main client service is beehive-entrance-video-processor, it needs to run on the edge device to capture and send data to web-app. Our main priority is inference on the edge device, but we also want to have hybrid inference with cloud support.",source:"@site/docs/entrance-observer/entrance-observer.md",sourceDirName:"entrance-observer",slug:"/entrance-observer/",permalink:"/docs/entrance-observer/",draft:!1,unlisted:!1,editUrl:"https://github.com/gratheon/website/tree/main/packages/create-docusaurus/templates/shared/docs/entrance-observer/entrance-observer.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f Entrance observer",sidebar_position:5,hide_table_of_contents:!0},sidebar:"tutorialSidebar",previous:{title:"Temperature - Humidity sensor alternative",permalink:"/docs/beehive-sensors/components/todo/Temperature - Humidity sensor alternative"},next:{title:"Jetson Nano setup",permalink:"/docs/entrance-observer/Jetson Nano setup"}},c={},d=[{value:"Video processing, playback and analytics",id:"video-processing-playback-and-analytics",level:3},{value:"Choosing processing architecture",id:"choosing-processing-architecture",level:2}];function h(e){const t={a:"a",h2:"h2",h3:"h3",mermaid:"mermaid",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Main client service is ",(0,s.jsx)(t.a,{href:"https://github.com/Gratheon/beehive-entrance-video-processor",children:"beehive-entrance-video-processor"}),", it needs to run on the edge device to capture and send data to web-app. Our main priority is inference on the edge device, but we also want to have hybrid inference with cloud support."]}),"\n",(0,s.jsx)(t.h3,{id:"video-processing-playback-and-analytics",children:"Video processing, playback and analytics"}),"\n",(0,s.jsx)(t.mermaid,{value:'flowchart LR\n\tweb-app("<a href=\'https://github.com/Gratheon/web-app\'>web-app</a>\\n:8080") --"fetch video streams"--\x3e graphql-router("<a href=\'https://github.com/Gratheon/graphql-router\'>graphql-router</a>") --"list video stream URLs"--\x3e gate-video-stream -- "get data for playback" --\x3e mysql\n\n\tweb-app --"record & upload \\n 10s webcam video"--\x3e gate-video-stream("<a href=\'https://github.com/Gratheon/gate-video-stream\'>gate-video-stream</a>\\n:8900") --"inference video"--\x3e models-gate-tracker("<a href=\'https://github.com/Gratheon/models-gate-tracker\'>models-gate-tracker</a>")\n\n\tgate-video-stream --"store video re-training with 1 month TTL"--\x3e aws-s3\n\tgate-video-stream --"store results long-term" --\x3e mysql\n\n\tentrance-observer("<a href=\'https://github.com/Gratheon/entrance-observer\'>entrance-observer</a>") --"record & upload 10s video chunks\\nsend edge-computed telemetry"--\x3e gate-video-stream\n\n\tentrance-observer -."send detected bees \\n timeseries counts".-> telemetry-api("<a href=\'https://github.com/Gratheon/telemetry-api\'>telemetry-api</a>")\n\n\tweb-app --"include analytics page"--\x3e grafana("<a href=\'https://github.com/Gratheon/grafana\'>grafana</a>\\n:9000") --"read bee traffic over time"--\x3e influxdb("influxdb:5300")'}),"\n",(0,s.jsx)(t.h2,{id:"choosing-processing-architecture",children:"Choosing processing architecture"}),"\n",(0,s.jsx)(t.p,{children:"We can approach where to process video from different angles:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:(0,s.jsx)(t.strong,{children:"Where"})}),(0,s.jsx)(t.th,{children:(0,s.jsx)(t.strong,{children:"Pros"})}),(0,s.jsx)(t.th,{children:(0,s.jsx)(t.strong,{children:"Cons"})})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{children:["Edge device without GPU  ",(0,s.jsx)("br",{}),"raspberry-pi  ",(0,s.jsx)("br",{}),"  ",(0,s.jsx)("br",{}),"ex.  ",(0,s.jsx)("br",{}),(0,s.jsx)(t.a,{href:"https://www.notion.so/BeeLogger-ad269086bf8449faa0aae6754f879181?pvs=21",children:"\ud83c\udde8\ud83c\uddff\xa0BeeLogger"}),", ",(0,s.jsx)(t.a,{href:"https://www.notion.so/BeePi-2e3023f492864fa98b2790743c3ba6e4?pvs=21",children:"BeePi"})]}),(0,s.jsx)(t.td,{children:"- cheap ~ 95 EUR for the board"}),(0,s.jsxs)(t.td,{children:["- limited to simple numerical models  ",(0,s.jsx)("br",{}),"- may not be reliable"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{children:["Edge-device with GPU  ",(0,s.jsx)("br",{}),"(jetson nano)  ",(0,s.jsx)("br",{}),"  ",(0,s.jsx)("br",{}),"ex.  ",(0,s.jsx)("br",{}),(0,s.jsx)(t.a,{href:"https://www.notion.so/Apic-ai-7859a940fd644a3fa35008fd3a2f1909?pvs=21",children:"\ud83c\udde9\ud83c\uddeaApic.ai"}),", ",(0,s.jsx)(t.a,{href:"https://www.notion.so/Beemate-7f54f62332334254b42e3e584dfae537?pvs=21",children:"\ud83c\udde6\ud83c\uddfaBeemate"}),", ",(0,s.jsx)(t.a,{href:"https://www.notion.so/BeeAlarmed-Masters-thesis-d9c40374718b480ab08a3872f441a2d8?pvs=21",children:"\ud83d\udd2cBeeAlarmed. Masters thesis"})]}),(0,s.jsxs)(t.td,{children:["- efficient  ",(0,s.jsx)("br",{}),"- low network dependency  ",(0,s.jsx)("br",{}),"- can work offline with own GPU"]}),(0,s.jsx)(t.td,{children:"~ cost 230 EUR for the board alone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{children:["Hybrid:  ",(0,s.jsx)("br",{}),"- on-premise (local) GPU workstation  ",(0,s.jsx)("br",{}),"- Video streaming devices"]}),(0,s.jsx)(t.td,{children:"- lower cost in total"}),(0,s.jsxs)(t.td,{children:["- higher initial cost for the device  ",(0,s.jsx)("br",{}),"- need of dedicated workstation location"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{children:["Cloud-only, ex.  ",(0,s.jsx)(t.a,{href:"https://www.notion.so/LabelBee-482ad7f33192487caae38697b21b7f5d?pvs=21",children:"LabelBee"})]}),(0,s.jsx)(t.td,{}),(0,s.jsxs)(t.td,{children:["- need high network bandwidth  ",(0,s.jsx)("br",{}),"- need to optimize for variable network bandwidth  ",(0,s.jsx)("br",{}),"- expensive  ",(0,s.jsx)("br",{}),"- video streaming and processing cost  ",(0,s.jsx)("br",{}),"- video storage cost"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{children:["Specialized ",(0,s.jsx)(t.a,{href:"https://jlcpcb.com/",children:"PCB devices"})]}),(0,s.jsxs)(t.td,{children:["- energy efficiency  ",(0,s.jsx)("br",{}),"- low production cost"]}),(0,s.jsxs)(t.td,{children:["- usually low on RAM, GPU  ",(0,s.jsx)("br",{}),"- high development cost"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"On a mobile phone"}),(0,s.jsxs)(t.td,{children:["- price controlled by the customer  ",(0,s.jsx)("br",{}),"- has built-in networking  ",(0,s.jsx)("br",{}),"- has a camera  ",(0,s.jsx)("br",{}),"- has screen  ",(0,s.jsx)("br",{}),"- has battery & power management  ",(0,s.jsx)("br",{}),"- no vendor-lock  ",(0,s.jsx)("br",{}),"- easiest to get started  ",(0,s.jsx)("br",{}),"- easy for beekeeper to setup  ",(0,s.jsx)("br",{}),"- automatic app redeploys"]}),(0,s.jsxs)(t.td,{children:["- high variety of phones, inconsistent experience  ",(0,s.jsx)("br",{}),"- for processing on the phone, issues with GPU, need to use custom mobile tensorflow  ",(0,s.jsx)("br",{}),"- too high-level (in-browser), hard to handle exceptions & may need user intervention"]})]})]})]})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>i});var s=r(96540);const n={},o=s.createContext(n);function a(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);
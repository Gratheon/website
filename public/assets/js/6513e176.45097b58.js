"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[38061],{82886:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"web-app/features/queen-detection","title":"Queen Detection - Technical Documentation","description":"\ud83c\udfaf Overview","source":"@site/docs/web-app/features/queen-detection.md","sourceDirName":"web-app/features","slug":"/web-app/features/queen-detection","permalink":"/docs/web-app/features/queen-detection","draft":false,"unlisted":false,"editUrl":"https://github.com/gratheon/website/tree/main/packages/create-docusaurus/templates/shared/docs/web-app/features/queen-detection.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Apiary Management - Technical Documentation","permalink":"/docs/web-app/features/apiary-management"},"next":{"title":"Queen Management - Technical Documentation","permalink":"/docs/web-app/features/queen-management"}}');var s=i(74848),r=i(28453);const l={sidebar_position:6},o="Queen Detection - Technical Documentation",a={},c=[{value:"\ud83c\udfaf Overview",id:"-overview",level:3},{value:"\ud83c\udfd7\ufe0f Architecture",id:"\ufe0f-architecture",level:3},{value:"Components",id:"components",level:4},{value:"Services",id:"services",level:4},{value:"\ud83d\udccb Technical Specifications",id:"-technical-specifications",level:3},{value:"Detection Pipeline",id:"detection-pipeline",level:4},{value:"GraphQL API",id:"graphql-api",level:4},{value:"\ud83d\udd27 Implementation Details",id:"-implementation-details",level:3},{value:"Frontend",id:"frontend",level:4},{value:"Backend (image-splitter)",id:"backend-image-splitter",level:4},{value:"Clarifai Integration",id:"clarifai-integration",level:4},{value:"Internal Model (models-bee-detector)",id:"internal-model-models-bee-detector",level:4},{value:"\u2699\ufe0f Configuration",id:"\ufe0f-configuration",level:3},{value:"Environment Variables",id:"environment-variables",level:4},{value:"\ud83e\uddea Testing",id:"-testing",level:3},{value:"Unit Tests",id:"unit-tests",level:4},{value:"Integration Tests",id:"integration-tests",level:4},{value:"Manual Testing",id:"manual-testing",level:4},{value:"\ud83d\udcca Performance Considerations",id:"-performance-considerations",level:3},{value:"Metrics",id:"metrics",level:4},{value:"Bottlenecks",id:"bottlenecks",level:4},{value:"Optimization Plans",id:"optimization-plans",level:4},{value:"\ud83d\udeab Technical Limitations",id:"-technical-limitations",level:3},{value:"Current Constraints",id:"current-constraints",level:4},{value:"Known Issues",id:"known-issues",level:4},{value:"\ud83d\udd17 Related Documentation",id:"-related-documentation",level:3},{value:"\ud83d\udcda Development Resources",id:"-development-resources",level:3},{value:"GitHub Repositories",id:"github-repositories",level:4},{value:"Key Files",id:"key-files",level:4},{value:"Model Training Resources",id:"model-training-resources",level:4},{value:"\ud83d\udcac Technical Notes",id:"-technical-notes",level:3},{value:"Improvement Roadmap",id:"improvement-roadmap",level:4}];function d(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"queen-detection---technical-documentation",children:"Queen Detection - Technical Documentation"})}),"\n",(0,s.jsx)(n.h3,{id:"-overview",children:"\ud83c\udfaf Overview"}),"\n",(0,s.jsx)(n.p,{children:"AI-powered queen bee detection system using machine learning models to identify queen bees in uploaded frame photos. Currently uses Clarifai API for detection with plans to develop internal model for improved accuracy. Part of automated frame analysis pipeline triggered on photo upload."}),"\n",(0,s.jsx)(n.h3,{id:"\ufe0f-architecture",children:"\ud83c\udfd7\ufe0f Architecture"}),"\n",(0,s.jsx)(n.h4,{id:"components",children:"Components"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DetectionOverlay"}),": Canvas component rendering detected queens as bounding boxes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"QueenIndicator"}),": UI component showing queen presence status"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"FrameAnalysisPanel"}),": Side panel displaying detection counts and confidence"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"services",children:"Services"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"image-splitter"}),": Orchestrates detection pipeline, stores results"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clarifai API"}),": External ML service for queen detection (current implementation)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"models-bee-detector"}),": Internal model service (supports queens but low accuracy ~60%)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"swarm-api"}),": Stores queen presence metadata linked to frames"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-technical-specifications",children:"\ud83d\udccb Technical Specifications"}),"\n",(0,s.jsx)(n.h4,{id:"detection-pipeline",children:"Detection Pipeline"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"1. Frame photo uploaded \u2192 image-splitter\n2. Create detection job (type: detect_queens)\n3. Job processor invokes detection:\n   a. Primary: Clarifai API call\n   b. Fallback: models-bee-detector (if enabled)\n4. Parse detection response (boxes + confidence)\n5. Store detections in MySQL\n6. Publish Redis event\n7. Update queen presence in swarm-api\n"})}),"\n",(0,s.jsx)(n.h4,{id:"graphql-api",children:"GraphQL API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:"type QueenDetection {\n  id: ID!\n  frameSideId: ID!\n  bbox: BoundingBox!\n  confidence: Float!\n  verifiedByUser: Boolean\n  createdAt: DateTime!\n}\n\ntype BoundingBox {\n  x: Int!\n  y: Int!\n  width: Int!\n  height: Int!\n}\n\ntype FrameSide {\n  id: ID!\n  url: String!\n  queenDetections: [QueenDetection!]\n  hasQueen: Boolean\n}\n\nquery frameSide($id: ID!) {\n  frameSide(id: $id) {\n    id\n    queenDetections {\n      id\n      bbox {\n        x\n        y\n        width\n        height\n      }\n      confidence\n    }\n  }\n}\n\nmutation verifyQueenDetection($detectionId: ID!, $verified: Boolean!) {\n  verifyQueenDetection(detectionId: $detectionId, verified: $verified) {\n    id\n    verifiedByUser\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"-implementation-details",children:"\ud83d\udd27 Implementation Details"}),"\n",(0,s.jsx)(n.h4,{id:"frontend",children:"Frontend"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Framework"}),": React with TypeScript"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rendering"}),": HTML5 Canvas for detection overlay"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visualization"}),": Yellow bounding box with confidence score label"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Interaction"}),": Click to verify/reject detection"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"State"}),": Apollo cache for detection data"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"backend-image-splitter",children:"Backend (image-splitter)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Language"}),": TypeScript/Node.js"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Detection Service"}),": Clarifai gRPC client"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fallback"}),": Internal models-bee-detector REST API"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Job Processing"}),": Async queue with retry logic"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Storage"}),": Detection results stored as JSON bbox data"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"clarifai-integration",children:"Clarifai Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"async function detectQueens(imageUrl: string): Promise<Detection[]> {\n  const stub = ClarifaiStub.grpc();\n  \n  const metadata = new grpc.Metadata();\n  metadata.set(\"authorization\", `Key ${CLARIFAI_API_KEY}`);\n\n  const request = {\n    userAppId: {\n      userId: CLARIFAI_USER_ID,\n      appId: CLARIFAI_APP_ID\n    },\n    inputs: [{\n      data: {\n        image: { url: imageUrl }\n      }\n    }]\n  };\n\n  const response = await stub.PostModelOutputs(request, metadata);\n  \n  return response.outputs[0].data.regions.map(region => ({\n    bbox: {\n      x: region.regionInfo.boundingBox.leftCol * imageWidth,\n      y: region.regionInfo.boundingBox.topRow * imageHeight,\n      width: region.regionInfo.boundingBox.width * imageWidth,\n      height: region.regionInfo.boundingBox.height * imageHeight\n    },\n    confidence: region.value,\n    type: 'queen'\n  }));\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"internal-model-models-bee-detector",children:"Internal Model (models-bee-detector)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Framework"}),": YOLOv5 (Ultralytics)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Weights"}),": Matt Nudi's honey bee detection model"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dataset"}),": Roboflow universe dataset"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accuracy"}),": ~60% for queens (low precision)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Classes"}),": worker, drone, queen, varroa"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Issues"}),": High false positive rate for queens"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\ufe0f-configuration",children:"\u2699\ufe0f Configuration"}),"\n",(0,s.jsx)(n.h4,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"CLARIFAI_API_KEY=xxx\nCLARIFAI_USER_ID=clarifai\nCLARIFAI_APP_ID=main\n\nMODELS_BEE_DETECTOR_URL=http://models-bee-detector:8700\nMODELS_BEE_DETECTOR_ENABLED=false\n\nQUEEN_DETECTION_CONFIDENCE_THRESHOLD=0.6\n"})}),"\n",(0,s.jsx)(n.h3,{id:"-testing",children:"\ud83e\uddea Testing"}),"\n",(0,s.jsx)(n.h4,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Location: ",(0,s.jsx)(n.code,{children:"/test/detection/queens.test.ts"})]}),"\n",(0,s.jsx)(n.li,{children:"Coverage: Detection parsing, bbox calculation, confidence filtering"}),"\n",(0,s.jsx)(n.li,{children:"Mocks: Clarifai API responses"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"integration-tests",children:"Integration Tests"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Location: ",(0,s.jsx)(n.code,{children:"/test/integration/queen-detection-flow.test.ts"})]}),"\n",(0,s.jsxs)(n.li,{children:["Tests:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Full detection pipeline (upload \u2192 detect \u2192 store \u2192 query)"}),"\n",(0,s.jsx)(n.li,{children:"Clarifai API integration"}),"\n",(0,s.jsx)(n.li,{children:"Fallback to internal model"}),"\n",(0,s.jsx)(n.li,{children:"User verification workflow"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"manual-testing",children:"Manual Testing"}),"\n",(0,s.jsx)(n.p,{children:"Test images available in:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/test/fixtures/queens/"})," - Known queen images"]}),"\n",(0,s.jsx)(n.li,{children:"Sample images from dataset with verified queens"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-performance-considerations",children:"\ud83d\udcca Performance Considerations"}),"\n",(0,s.jsx)(n.h4,{id:"metrics",children:"Metrics"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Clarifai API latency: 2-5 seconds per image"}),"\n",(0,s.jsx)(n.li,{children:"Detection confidence threshold: 0.6 (configurable)"}),"\n",(0,s.jsx)(n.li,{children:"False positive rate: ~30% (Clarifai), ~50% (internal model)"}),"\n",(0,s.jsx)(n.li,{children:"True positive rate: ~70% (Clarifai), ~60% (internal model)"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"bottlenecks",children:"Bottlenecks"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Clarifai API rate limit: 10 requests/second"}),"\n",(0,s.jsx)(n.li,{children:"External API dependency (network latency)"}),"\n",(0,s.jsx)(n.li,{children:"Large images require longer processing"}),"\n",(0,s.jsx)(n.li,{children:"Cost: $0.0012 per Clarifai prediction"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"optimization-plans",children:"Optimization Plans"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Train internal model with higher accuracy"}),"\n",(0,s.jsx)(n.li,{children:"Implement model ensemble (multiple models voting)"}),"\n",(0,s.jsx)(n.li,{children:"Cache results for identical images"}),"\n",(0,s.jsx)(n.li,{children:"Batch processing for multiple frames"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-technical-limitations",children:"\ud83d\udeab Technical Limitations"}),"\n",(0,s.jsx)(n.h4,{id:"current-constraints",children:"Current Constraints"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accuracy"}),": 60-70% detection rate (not production-ready for critical decisions)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"False Positives"}),": High rate requires manual verification"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Marked Queens"}),": Cannot detect marked queens differently (paint spots confuse model)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Image Quality"}),": Poor lighting or focus significantly reduces accuracy"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clarifai Dependency"}),": External API dependency for best results"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cost"}),": Per-detection cost for Clarifai API"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"No Tracking"}),": Cannot track same queen across multiple photos"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"known-issues",children:"Known Issues"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Model confuses large worker bees with queens"}),"\n",(0,s.jsx)(n.li,{children:"Marked queens (with paint dots) often missed"}),"\n",(0,s.jsx)(n.li,{children:"Multiple false positives per image common"}),"\n",(0,s.jsx)(n.li,{children:"No confidence calibration (scores not well-calibrated)"}),"\n",(0,s.jsx)(n.li,{children:"Dataset bias: Trained mostly on light-colored queens"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-related-documentation",children:"\ud83d\udd17 Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/web-app/features/queen-management",children:"Queen Management"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/web-app/features/frame-photo-upload",children:"Frame Photo Upload"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"./worker-bee-detection.md",children:"Worker Bee Detection"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/Gratheon/models-bee-detector",children:"models-bee-detector"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.clarifai.com/",children:"Clarifai Documentation"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-development-resources",children:"\ud83d\udcda Development Resources"}),"\n",(0,s.jsx)(n.h4,{id:"github-repositories",children:"GitHub Repositories"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/Gratheon/image-splitter",children:"image-splitter"})," - Detection orchestration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/Gratheon/models-bee-detector",children:"models-bee-detector"})," - Internal model"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/Gratheon/web-app",children:"web-app"})," - Detection visualization"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"key-files",children:"Key Files"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Detection job: ",(0,s.jsx)(n.code,{children:"/src/jobs/detect-queens.ts"})]}),"\n",(0,s.jsxs)(n.li,{children:["Clarifai client: ",(0,s.jsx)(n.code,{children:"/src/integrations/clarifai.ts"})]}),"\n",(0,s.jsxs)(n.li,{children:["Frontend overlay: ",(0,s.jsx)(n.code,{children:"/src/page/hive/frameSide/DetectionOverlay.tsx"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"model-training-resources",children:"Model Training Resources"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Dataset: ",(0,s.jsx)(n.a,{href:"https://universe.roboflow.com/matt-nudi/honey-bee-detection-model-zgjnb",children:"Roboflow Honey Bee Detection"})]}),"\n",(0,s.jsx)(n.li,{children:"YOLOv5 weights: Matt Nudi's model"}),"\n",(0,s.jsx)(n.li,{children:"Future: Custom dataset with more queen examples needed"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-technical-notes",children:"\ud83d\udcac Technical Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Current accuracy (~60-70%) not reliable for automated alerts without user verification"}),"\n",(0,s.jsx)(n.li,{children:"Clarifai used because internal model training incomplete"}),"\n",(0,s.jsx)(n.li,{children:"Future plan: Train internal model with larger queen-specific dataset"}),"\n",(0,s.jsx)(n.li,{children:"Consider ensemble approach: multiple models voting for higher confidence"}),"\n",(0,s.jsx)(n.li,{children:"User verification feedback could be used to retrain model"}),"\n",(0,s.jsx)(n.li,{children:"Marked queens (painted) need separate detection class"}),"\n",(0,s.jsx)(n.li,{children:"Queen detection more valuable when combined with queen management timeline"}),"\n",(0,s.jsx)(n.li,{children:"False positives less critical than false negatives (missing queen is worse)"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"improvement-roadmap",children:"Improvement Roadmap"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Collect larger queen-specific dataset (1000+ labeled queens)"}),"\n",(0,s.jsx)(n.li,{children:"Train internal YOLOv8 model with transfer learning"}),"\n",(0,s.jsx)(n.li,{children:"Implement model ensemble (Clarifai + internal + voting)"}),"\n",(0,s.jsx)(n.li,{children:"Add user feedback loop for model improvement"}),"\n",(0,s.jsx)(n.li,{children:"Detect marked vs unmarked queens separately"}),"\n",(0,s.jsx)(n.li,{children:"Implement confidence calibration"}),"\n",(0,s.jsx)(n.li,{children:"Add queen tracking across multiple photos"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Last Updated"}),": December 5, 2025"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var t=i(96540);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);
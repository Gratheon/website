"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[800],{18439:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var r=i(30758);const s={},t=r.createContext(s);function a(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(t.Provider,{value:n},e.children)}},83511:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"products/web_app/pro-tier/hive_telemetry_storage","title":"\ud83d\udcc8 Hive telemetry storage","description":"Store and visualize time-series sensor data from IoT devices attached to beehives, enabling long-term monitoring of hive health indicators like temperature, humidity, weight, and entrance traffic.","source":"@site/about/products/web_app/pro-tier/hive_telemetry_storage.md","sourceDirName":"products/web_app/pro-tier","slug":"/products/web_app/pro-tier/hive_telemetry_storage","permalink":"/about/products/web_app/pro-tier/hive_telemetry_storage","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\ud83d\udcc8 Hive telemetry storage"},"sidebar":"tutorialSidebar","previous":{"title":"\u267b\ufe0f Hive ownership transfer","permalink":"/about/products/web_app/pro-tier/hive_ownership_transfer"},"next":{"title":"\u267b\ufe0f Hive ownership transfer","permalink":"/about/products/web_app/pro-tier/ideas \ud83d\udca1/\u267b\ufe0f Hive ownership transfer"}}');var s=i(86070),t=i(18439);const a={title:"\ud83d\udcc8 Hive telemetry storage"},l=void 0,o={},c=[{value:"Overview",id:"overview",level:2},{value:"Supported metrics",id:"supported-metrics",level:2},{value:"Environmental data",id:"environmental-data",level:3},{value:"Entrance activity",id:"entrance-activity",level:3},{value:"How it works",id:"how-it-works",level:2},{value:"Data retention",id:"data-retention",level:2},{value:"Architecture",id:"architecture",level:2},{value:"API access",id:"api-access",level:2},{value:"Use cases",id:"use-cases",level:2},{value:"Seasonal comparison",id:"seasonal-comparison",level:3},{value:"Honey flow tracking",id:"honey-flow-tracking",level:3},{value:"Colony health monitoring",id:"colony-health-monitoring",level:3},{value:"Treatment efficacy",id:"treatment-efficacy",level:3},{value:"Technical limitations",id:"technical-limitations",level:2},{value:"Related features",id:"related-features",level:2},{value:"Resources",id:"resources",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Store and visualize time-series sensor data from IoT devices attached to beehives, enabling long-term monitoring of hive health indicators like temperature, humidity, weight, and entrance traffic."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Professional beekeepers need historical data to make informed decisions about hive management. The telemetry storage system collects metrics from hardware sensors and stores them for analysis and visualization."}),"\n",(0,s.jsx)(n.p,{children:"This feature supports:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Continuous monitoring of environmental conditions"}),"\n",(0,s.jsx)(n.li,{children:"Historical trend analysis across seasons"}),"\n",(0,s.jsx)(n.li,{children:"Early detection of anomalies through data patterns"}),"\n",(0,s.jsx)(n.li,{children:"Evidence-based decision making for hive interventions"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"supported-metrics",children:"Supported metrics"}),"\n",(0,s.jsx)(n.h3,{id:"environmental-data",children:"Environmental data"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Temperature"})," - Internal hive temperature in Celsius"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Humidity"})," - Moisture levels inside the hive (percentage)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Weight"})," - Total hive weight for tracking honey flow (kg)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"entrance-activity",children:"Entrance activity"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bees in/out"})," - Count of bees entering and exiting"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Net flow"})," - Difference between incoming and outgoing bees"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Average speed"})," - Movement velocity of bees"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Stationary bees"})," - Bees not moving at entrance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Detected bees"})," - Total count in camera frame"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bee interactions"})," - Encounters between bees at entrance"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Connect hardware sensors"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Install beehive-sensors for temperature, humidity, and weight"}),"\n",(0,s.jsx)(n.li,{children:"Install entrance-observer for bee traffic analysis"}),"\n",(0,s.jsx)(n.li,{children:"Configure devices with API authentication token"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Automatic data collection"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sensors send data every 5 seconds to telemetry-api"}),"\n",(0,s.jsx)(n.li,{children:"Data is stored in time-series optimized MySQL tables"}),"\n",(0,s.jsx)(n.li,{children:"Authentication verified via user-cycle service"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"View and analyze data"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Real-time metrics displayed in hive dashboard"}),"\n",(0,s.jsx)(n.li,{children:"Historical charts with configurable time ranges"}),"\n",(0,s.jsx)(n.li,{children:"Advanced analytics via Grafana integration"}),"\n",(0,s.jsx)(n.li,{children:"Export data for external analysis"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Set up alerts"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create threshold-based alert rules"}),"\n",(0,s.jsx)(n.li,{children:"Get notified when metrics exceed safe ranges"}),"\n",(0,s.jsx)(n.li,{children:"Monitor for sudden changes or anomalies"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"data-retention",children:"Data retention"}),"\n",(0,s.jsx)(n.p,{children:"Pro tier includes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Storage period"}),": 3 years of historical data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),": Configurable from 1-minute to daily aggregates"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Query ranges"}),": From last hour to 2 years"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Storage size"}),": Approximately 500MB per hive per year"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart LR\n    A[beehive-sensors] --\x3e|REST API| B[telemetry-api]\n    C[entrance-observer] --\x3e|GraphQL| B\n    B --\x3e|store| D[(MySQL)]\n    E[web-app] --\x3e|query| F[graphql-router]\n    F --\x3e B\n    E --\x3e|advanced graphs| G[grafana]\n    G --\x3e D"}),"\n",(0,s.jsx)(n.p,{children:"The system uses:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"telemetry-api"})," - Core service for metric storage and querying"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MySQL"})," - Time-series optimized storage (indexed by hive_id and timestamp)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"graphql-router"})," - API gateway for web-app queries"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"grafana"})," - Advanced visualization and analytics"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"api-access",children:"API access"}),"\n",(0,s.jsx)(n.p,{children:"Both REST and GraphQL APIs available:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"REST API"})," (for IoT devices):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"POST /v1/metrics/:hiveId\nPOST /v1/entrance/:hiveId/:boxId\nGET /v1/metrics/:hiveId/temperature?minutes=60\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"GraphQL API"})," (for web-app):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'query {\n  temperatureCelsius(hiveId: "123", timeRangeMin: 60)\n  humidityPercent(hiveId: "123", timeRangeMin: 1440)\n  weightKgAggregated(hiveId: "123", days: 7, aggregation: DAILY_AVG)\n  entranceMovement(hiveId: "123", timeFrom: "2024-12-01", timeTo: "2024-12-06")\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"use-cases",children:"Use cases"}),"\n",(0,s.jsx)(n.h3,{id:"seasonal-comparison",children:"Seasonal comparison"}),"\n",(0,s.jsx)(n.p,{children:"Compare temperature and humidity patterns across multiple years to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Identify optimal conditions for brood rearing"}),"\n",(0,s.jsx)(n.li,{children:"Plan spring buildup strategies"}),"\n",(0,s.jsx)(n.li,{children:"Prepare for winter clustering"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"honey-flow-tracking",children:"Honey flow tracking"}),"\n",(0,s.jsx)(n.p,{children:"Monitor weight changes to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Detect when nectar flow begins"}),"\n",(0,s.jsx)(n.li,{children:"Determine optimal harvest timing"}),"\n",(0,s.jsx)(n.li,{children:"Calculate daily weight gain during flow"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"colony-health-monitoring",children:"Colony health monitoring"}),"\n",(0,s.jsx)(n.p,{children:"Track entrance activity to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Detect queenless colonies (reduced activity)"}),"\n",(0,s.jsx)(n.li,{children:"Identify robbing events (unusual traffic patterns)"}),"\n",(0,s.jsx)(n.li,{children:"Monitor foraging behavior changes"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"treatment-efficacy",children:"Treatment efficacy"}),"\n",(0,s.jsx)(n.p,{children:"Analyze metrics before and after treatments to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify temperature stability during treatment"}),"\n",(0,s.jsx)(n.li,{children:"Confirm colony recovery post-treatment"}),"\n",(0,s.jsx)(n.li,{children:"Optimize treatment timing based on data"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"technical-limitations",children:"Technical limitations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Maximum query range: 2 years without aggregation"}),"\n",(0,s.jsx)(n.li,{children:"Data point limit: 10,000 records per query"}),"\n",(0,s.jsx)(n.li,{children:"Write frequency: Minimum 1-second interval per device"}),"\n",(0,s.jsx)(n.li,{children:"Polling-based updates (no real-time websockets)"}),"\n",(0,s.jsx)(n.li,{children:"Grafana requires separate authentication"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"related-features",children:"Related features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/about/products/web_app/flexible-tier/alerts",children:"\ud83d\udd14 Alerts"})," - Configure threshold-based notifications"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"./colony_comparison_analytics",children:"\u2696\ufe0f Colony comparison analytics"})," - Compare metrics across hives"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/web-app/features/telemetry-storage",children:"Technical documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/Gratheon/telemetry-api",children:"Telemetry API on GitHub"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/beehive-sensors/",children:"Beehive sensors setup"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/entrance-observer/",children:"Entrance observer setup"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);
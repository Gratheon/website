"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1184],{37871:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"products/entrance_observer/features/\ud83c\udfa5 Video streaming via API","title":"\ud83c\udfa5 Video streaming via API","description":"Status beta | Priority: high","source":"@site/about/products/entrance_observer/features/\ud83c\udfa5 Video streaming via API.md","sourceDirName":"products/entrance_observer/features","slug":"/products/entrance_observer/features/\ud83c\udfa5 Video streaming via API","permalink":"/about/products/entrance_observer/features/\ud83c\udfa5 Video streaming via API","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f Entrance Observer","permalink":"/about/products/entrance_observer/"},"next":{"title":"\ud83c\udfae Client-side app with UI","permalink":"/about/products/entrance_observer/features/\ud83c\udfae Client-side app with UI"}}');var t=i(74848),s=i(28453);const o={},a="\ud83c\udfa5 Video streaming via API",c={},l=[{value:"\ud83c\udfaf Purpose",id:"-purpose",level:3},{value:"\ud83c\udfad User Story",id:"-user-story",level:3},{value:"\ud83d\ude80 Key Benefits",id:"-key-benefits",level:3},{value:"\ud83d\udd27 Technical Overview",id:"-technical-overview",level:3},{value:"\ud83d\udccb Acceptance Criteria",id:"-acceptance-criteria",level:3},{value:"\ud83d\udeab Out of Scope",id:"-out-of-scope",level:3},{value:"\ud83c\udfd7\ufe0f Implementation Approach",id:"\ufe0f-implementation-approach",level:3},{value:"\ud83d\udcca Success Metrics",id:"-success-metrics",level:3},{value:"\ud83d\udd17 Related Features",id:"-related-features",level:3},{value:"\ud83d\udcda Resources &amp; References",id:"-resources--references",level:3},{value:"\ud83d\udcac Notes",id:"-notes",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"-video-streaming-via-api",children:"\ud83c\udfa5 Video streaming via API"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Status"}),": ",(0,t.jsx)(n.code,{children:"feature"})," | ",(0,t.jsx)(n.strong,{children:"Development Stage"}),": ",(0,t.jsx)(n.code,{children:"beta"})," | ",(0,t.jsx)(n.strong,{children:"Priority"}),": ",(0,t.jsx)(n.code,{children:"high"})]}),"\n",(0,t.jsx)(n.h3,{id:"-purpose",children:"\ud83c\udfaf Purpose"}),"\n",(0,t.jsx)(n.p,{children:"Enables hardware devices to capture and stream video from beehive entrances to the cloud for remote monitoring and AI analysis."}),"\n",(0,t.jsx)(n.h3,{id:"-user-story",children:"\ud83c\udfad User Story"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"As a beekeeper with custom hardware or limited compute resources"}),"\n",(0,t.jsx)(n.li,{children:"I want to stream video from my beehive entrance to the cloud"}),"\n",(0,t.jsx)(n.li,{children:"So that I can leverage cloud-based AI analysis and remote monitoring without requiring powerful on-device processing"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-key-benefits",children:"\ud83d\ude80 Key Benefits"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hardware flexibility"}),": Works with Raspberry Pi, custom PCs, or Jetson Nano devices"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cloud processing"}),": Offloads AI analysis to cloud infrastructure for devices without GPU"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Remote access"}),": View live and historical video streams from anywhere"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Easy integration"}),": Simple API token authentication and setup"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-technical-overview",children:"\ud83d\udd27 Technical Overview"}),"\n",(0,t.jsx)(n.p,{children:"Video upload system (src/uploader.py) captures processed video chunks with detection overlays and uploads them to video.gratheon.com via GraphQL mutations. Uses multipart/form-data encoding with both video files and detection metadata, supporting batch uploads with bearer token authentication."}),"\n",(0,t.jsx)(n.h3,{id:"-acceptance-criteria",children:"\ud83d\udccb Acceptance Criteria"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Supports USB camera video capture with OpenCV (CAP_V4L2/CAP_AVFOUNDATION)"}),"\n",(0,t.jsx)(n.li,{children:"Encodes video with AVC1/MP4V codecs for compatibility"}),"\n",(0,t.jsx)(n.li,{children:"Uploads video chunks with detection overlays via GraphQL API"}),"\n",(0,t.jsx)(n.li,{children:"Includes detection metadata file alongside video upload"}),"\n",(0,t.jsx)(n.li,{children:"Uses bearer token authentication (API_TOKEN environment variable)"}),"\n",(0,t.jsx)(n.li,{children:"Supports configurable video chunk length (VIDEO_CHUNK_LENGTH_SEC)"}),"\n",(0,t.jsx)(n.li,{children:"Handles network interruptions with threaded async uploads"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-out-of-scope",children:"\ud83d\udeab Out of Scope"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Real-time live streaming (batch upload of processed chunks)"}),"\n",(0,t.jsx)(n.li,{children:"Audio streaming (video only)"}),"\n",(0,t.jsx)(n.li,{children:"Real-time two-way communication"}),"\n",(0,t.jsx)(n.li,{children:"Storage management beyond standard retention policies"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"\ufe0f-implementation-approach",children:"\ud83c\udfd7\ufe0f Implementation Approach"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Video Encoding"}),": OpenCV VideoWriter with AVC1/MP4V codecs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Upload Protocol"}),": GraphQL mutation via HTTPS POST with multipart/form-data"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Authentication"}),": Bearer token in Authorization header"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Threading"}),": Async upload processing to prevent blocking video capture"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Integration"}),": Links to SECTION_ID (box ID) and timestamp metadata"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error Handling"}),": Graceful fallback when API credentials not configured"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-success-metrics",children:"\ud83d\udcca Success Metrics"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Video encoding with proper codec compatibility (AVC1 primary, MP4V fallback)"}),"\n",(0,t.jsx)(n.li,{children:"Successful GraphQL mutation uploads to video.gratheon.com endpoint"}),"\n",(0,t.jsx)(n.li,{children:"Threaded async processing without blocking main video pipeline"}),"\n",(0,t.jsx)(n.li,{children:"Proper multipart encoding with detection metadata files"}),"\n",(0,t.jsx)(n.li,{children:"Bearer token authentication and box ID association"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-related-features",children:"\ud83d\udd17 Related Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/about/products/entrance_observer/features/%F0%9F%8E%AE%20Client-side%20app%20with%20UI",children:"\ud83c\udfae Client-side app with UI"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/about/products/entrance_observer/features/%F0%9F%93%88%20Count%20bees%20coming%20in%20and%20out%20-%20on%20the%20edge",children:"\ud83d\udcc8 Count bees coming in and out - on the edge"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/about/products/scales/features/%F0%9F%93%88%20Telemetry%20API",children:"\ud83d\udcc8 Telemetry API"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-resources--references",children:"\ud83d\udcda Resources & References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/Gratheon/entrance-observer/blob/main/src/uploader.py",children:"Video upload implementation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://video.gratheon.com/graphql",children:"GraphQL mutation endpoint"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.opencv.org/master/dd/d9e/classcv_1_1VideoWriter.html",children:"OpenCV VideoWriter documentation"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-notes",children:"\ud83d\udcac Notes"}),"\n",(0,t.jsx)(n.p,{children:"Actual implementation using GraphQL mutations for video upload with detection metadata. Enables cloud-based processing for devices without sufficient local compute resources."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var r=i(96540);const t={},s=r.createContext(t);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);